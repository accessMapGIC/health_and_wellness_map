(this.webpackJsonpmapadmin2=this.webpackJsonpmapadmin2||[]).push([[0],{111:function(e,t,a){},202:function(e,t,a){e.exports=a(395)},207:function(e,t,a){},215:function(e,t,a){},337:function(e,t,a){},340:function(e,t,a){},348:function(e,t,a){},389:function(e,t,a){},395:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(12),s=a.n(c),u=(a(207),a(38)),o=a(92),i=a(49),l=a(30),E=a(121),p=a(3),d=a.n(p),m=a(6),S=a(31),h={CREATE_PRIMARY_CATEGORY_REQUEST:"CREATE_PRIMARY_CATEGORY_REQUEST",CREATE_PRIMARY_CATEGORY_SUCCESS:"CREATE_PRIMARY_CATEGORY_SUCCESS",CREATE_PRIMARY_CATEGORY_FAILURE:"CREATE_PRIMARY_CATEGORY_FAILURE",GET_PRIMARY_CATEGORY_REQUEST:"GET_PRIMARY_CATEGORY_REQUEST",GET_PRIMARY_CATEGORY_SUCCESS:"GET_PRIMARY_CATEGORY_SUCCESS",GET_PRIMARY_CATEGORY_FAILURE:"GET_PRIMARY_CATEGORY_FAILURE",UPDATE_PRIMARY_CATEGORY_REQUEST:"UPDATE_PRIMARY_CATEGORY_REQUEST",UPDATE_PRIMARY_CATEGORY_SUCCESS:"UPDATE_PRIMARY_CATEGORY_SUCCESS",UPDATE_PRIMARY_CATEGORY_FAILURE:"UPDATE_PRIMARY_CATEGORY_FAILURE",DELETE_PRIMARY_CATEGORY_REQUEST:"DELETE_PRIMARY_CATEGORY_REQUEST",DELETE_PRIMARY_CATEGORY_SUCCESS:"DELETE_PRIMARY_CATEGORY_SUCCESS",DELETE_PRIMARY_CATEGORY_FAILURE:"DELETE_PRIMARY_CATEGORY_FAILURE",CREATE_SUBCATEGORY_REQUEST:"CREATE_SUBCATEGORY_REQUEST",CREATE_SUBCATEGORY_SUCCESS:"CREATE_SUBCATEGORY_SUCCESS",CREATE_SUBCATEGORY_FAILURE:"CREATE_SUBCATEGORY_FAILURE",GET_SUBCATEGORY_REQUEST:"GET_SUBCATEGORY_REQUEST",GET_SUBCATEGORY_SUCCESS:"GET_SUBCATEGORY_SUCCESS",GET_SUBCATEGORY_FAILURE:"GET_SUBCATEGORY_FAILURE",UPDATE_SUBCATEGORY_REQUEST:"UPDATE_SUBCATEGORY_REQUEST",UPDATE_SUBCATEGORY_SUCCESS:"UPDATE_SUBCATEGORY_SUCCESS",UPDATE_SUBCATEGORY_FAILURE:"UPDATE_SUBCATEGORY_FAILURE",DELETE_SUBCATEGORY_REQUEST:"DELETE_SUBCATEGORY_REQUEST",DELETE_SUBCATEGORY_SUCCESS:"DELETE_SUBCATEGORY_SUCCESS",DELETE_SUBCATEGORY_FAILURE:"DELETE_SUBCATEGORY_FAILURE",CREATE_INSURANCE_REQUEST:"CREATE_INSURANCE_REQUEST",CREATE_INSURANCE_SUCCESS:"CREATE_INSURANCE_SUCCESS",CREATE_INSURANCE_FAILURE:"CREATE_INSURANCE_FAILURE",GET_INSURANCE_REQUEST:"GET_INSURANCE_REQUEST",GET_INSURANCE_SUCCESS:"GET_INSURANCE_SUCCESS",GET_INSURANCE_FAILURE:"GET_INSURANCE_FAILURE",UPDATE_INSURANCE_REQUEST:"UPDATE_INSURANCE_REQUEST",UPDATE_INSURANCE_SUCCESS:"UPDATE_INSURANCE_SUCCESS",UPDATE_INSURANCE_FAILURE:"UPDATE_INSURANCE_FAILURE",DELETE_INSURANCE_REQUEST:"DELETE_INSURANCE_REQUEST",DELETE_INSURANCE_SUCCESS:"DELETE_INSURANCE_SUCCESS",DELETE_INSURANCE_FAILURE:"DELETE_INSURANCE_FAILURE",CREATE_SERVICE_REQUEST:"CREATE_SERVICE_REQUEST",CREATE_SERVICE_SUCCESS:"CREATE_SERVICE_SUCCESS",CREATE_SERVICE_FAILURE:"CREATE_SERVICE_FAILURE",GET_SERVICE_REQUEST:"GET_SERVICE_REQUEST",GET_SERVICE_SUCCESS:"GET_SERVICE_SUCCESS",GET_SERVICE_FAILURE:"GET_SERVICE_FAILURE",EDIT_SERVICE_REQUEST:"EDIT_SERVICE_REQUEST",EDIT_SERVICE_SUCCESS:"EDIT_SERVICE_SUCCESS",EDIT_SERVICE_FAILURE:"EDIT_SERVICE_FAILURE",SIGN_IN_REQUEST:"SIGN_IN_REQUEST",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",SIGN_OUT_REQUEST:"SIGN_OUT_REQUEST",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE"},_={createServiceRequest:function(e){return{type:h.CREATE_SERVICE_REQUEST,payload:e}},createServiceSuccess:function(e){return{type:h.CREATE_SERVICE_SUCCESS,payload:e}},createServiceFailure:function(e){return{type:h.CREATE_SERVICE_FAILURE,payload:e}},getServiceRequest:function(e){return{type:h.GET_SERVICE_REQUEST,payload:e}},getServiceSuccess:function(e){return{type:h.GET_SERVICE_SUCCESS,payload:e}},getServiceFailure:function(e){return{type:h.GET_SERVICE_FAILURE,payload:e}},editServiceRequest:function(e){return{type:h.EDIT_SERVICE_REQUEST,payload:e}},editServiceSuccess:function(e){return{type:h.EDIT_SERVICE_SUCCESS,payload:e}},editServiceFailure:function(e){return{type:h.EDIT_SERVICE_FAILURE,payload:e}}};var f=d.a.mark(T),g=d.a.mark(I),R=d.a.mark(j),C=d.a.mark(x),y=d.a.mark(G),b=d.a.mark(k),A="http://gic.geog.mcgill.ca:5001";function v(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function T(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.CREATE_SERVICE_REQUEST,I);case 2:case"end":return e.stop()}}),f)}function I(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(O,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(_.createServiceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(_.createServiceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(_.createServiceFailure(a.t0));case 21:case"end":return a.stop()}}),g,null,[[0,17]])}function O(e){return U.apply(this,arguments)}function U(){return(U=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(A,"/service"),{credentials:"same-origin",method:"post",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(v())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function j(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.GET_SERVICE_REQUEST,x);case 2:case"end":return e.stop()}}),R)}function x(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(w,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(_.getServiceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(_.getServiceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(_.getServiceFailure(a.t0));case 21:case"end":return a.stop()}}),C,null,[[0,17]])}function w(e){return N.apply(this,arguments)}function N(){return(N=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(A,"/services"),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(v())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function G(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.EDIT_SERVICE_REQUEST,k);case 2:case"end":return e.stop()}}),y)}function k(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(P,e.payload);case 3:if(200!==(t=a.sent).status){a.next=10;break}return console.log(e.payload),a.next=8,Object(m.c)(_.editServiceSuccess(t.message));case 8:a.next=17;break;case 10:if(401!==t.status){a.next=14;break}window.location.href="/",a.next=17;break;case 14:return console.log("error",e.payload),a.next=17,Object(m.c)(_.editServiceFailure(t.message));case 17:a.next=23;break;case 19:return a.prev=19,a.t0=a.catch(0),a.next=23,Object(m.c)(_.editServiceFailure(a.t0));case 23:case"end":return a.stop()}}),b,null,[[0,19]])}function P(e){return Y.apply(this,arguments)}function Y(){return(Y=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(A,"/service/").concat(t.serviceId),{credentials:"same-origin",method:"put",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(v())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}a(213);var F={signInRequest:function(e){return{type:h.SIGN_IN_REQUEST,payload:e}},signInSuccess:function(e){return{type:h.SIGN_IN_SUCCESS,payload:e}},signInFailure:function(e){return{type:h.SIGN_IN_FAILURE,error:e}},signOutRequest:function(){return{type:h.SIGN_OUT_REQUEST}},signOutSuccess:function(){return{type:h.SIGN_OUT_SUCCESS}},signOutFailure:function(e){return{type:h.SIGN_OUT_FAILURE,error:e}}};var D=d.a.mark(H),L=d.a.mark(W),Q=d.a.mark(Z),V=d.a.mark(X),B="http://gic.geog.mcgill.ca:5001";function M(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function H(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.SIGN_IN_REQUEST,W);case 2:case"end":return e.stop()}}),D)}function q(e){return z.apply(this,arguments)}function z(){return(z=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B,"/signin"),{credentials:"same-origin",method:"post",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache"}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function J(e,t,a){var r="";if(a){var n=new Date;n.setTime(n.getTime()+24*a*60*60*1e3),r="; expires="+n.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=http://localhost:8081/"}function W(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(q,e.payload);case 3:if(200!=(t=a.sent).status){a.next=10;break}return J("token",t.message.token,60),a.next=8,Object(m.c)(F.signInSuccess(t.message));case 8:a.next=12;break;case 10:return a.next=12,Object(m.c)(F.signInFailure(t.message));case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(0),a.next=18,Object(m.c)(F.signInFailure(a.t0));case 18:case"end":return a.stop()}}),L,null,[[0,14]])}function Z(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.SIGN_OUT_REQUEST,X);case 2:case"end":return e.stop()}}),Q)}function $(){return K.apply(this,arguments)}function K(){return(K=Object(S.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(B,"/logout"),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(M())}});case 3:return 200==(t=e.sent).status&&(window.location.href="/",document.cookie="token=; expires=".concat(new Date,"; path=/;")),e.abrupt("return",t);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function X(){var e;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(m.b)($);case 2:if(e=t.sent,t.prev=3,200!=e.status){t.next=9;break}return t.next=7,Object(m.c)(F.signOutSuccess());case 7:t.next=11;break;case 9:return t.next=11,Object(m.c)(F.signOutFailure(e.message.error));case 11:t.next=17;break;case 13:return t.prev=13,t.t0=t.catch(3),t.next=17,Object(m.c)(F.signOutFailure(t.t0));case 17:case"end":return t.stop()}}),V,null,[[3,13]])}var ee={createPrimaryCategoryRequest:function(e){return{type:h.CREATE_PRIMARY_CATEGORY_REQUEST,payload:e}},createPrimaryCategorySuccess:function(e){return{type:h.CREATE_PRIMARY_CATEGORY_SUCCESS,payload:e}},createPrimaryCategoryFailure:function(e){return{type:h.CREATE_PRIMARY_CATEGORY_FAILURE,payload:e}},getPrimaryCategoryRequest:function(e){return{type:h.GET_PRIMARY_CATEGORY_REQUEST,payload:e}},getPrimaryCategorySuccess:function(e){return{type:h.GET_PRIMARY_CATEGORY_SUCCESS,payload:e}},getPrimaryCategoryFailure:function(e){return{type:h.UPDATE_PRIMARY_CATEGORY_FAILURE,payload:e}},updatePrimaryCategoryRequest:function(e){return{type:h.UPDATE_PRIMARY_CATEGORY_REQUEST,payload:e}},updatePrimaryCategorySuccess:function(e){return{type:h.UPDATE_PRIMARY_CATEGORY_SUCCESS,payload:e}},updatePrimaryCategoryFailure:function(e){return{type:h.UPDATE_PRIMARY_CATEGORY_FAILURE,payload:e}},deletePrimaryCategoryRequest:function(e){return{type:h.DELETE_PRIMARY_CATEGORY_REQUEST,payload:e}},deletePrimaryCategorySuccess:function(e){return{type:h.DELETE_PRIMARY_CATEGORY_SUCCESS,payload:e}},deletePrimaryCategoryFailure:function(e){return{type:h.DELETE_PRIMARY_CATEGORY_FAILURE,payload:e}},createSubcategoryRequest:function(e){return{type:h.CREATE_SUBCATEGORY_REQUEST,payload:e}},createSubcategorySuccess:function(e){return{type:h.CREATE_SUBCATEGORY_SUCCESS,payload:e}},createSubcategoryFailure:function(e){return{type:h.CREATE_SUBCATEGORY_FAILURE,payload:e}},getSubcategoryRequest:function(e){return{type:h.GET_SUBCATEGORY_REQUEST,payload:e}},getSubcategorySuccess:function(e){return{type:h.GET_SUBCATEGORY_SUCCESS,payload:e}},getSubcategoryFailure:function(e){return{type:h.UPDATE_SUBCATEGORY_FAILURE,payload:e}},updateSubcategoryRequest:function(e){return{type:h.UPDATE_SUBCATEGORY_REQUEST,payload:e}},updateSubcategorySuccess:function(e){return{type:h.UPDATE_SUBCATEGORY_SUCCESS,payload:e}},updateSubcategoryFailure:function(e){return{type:h.UPDATE_SUBCATEGORY_FAILURE,payload:e}},deleteSubcategoryRequest:function(e){return{type:h.DELETE_SUBCATEGORY_REQUEST,payload:e}},deleteSubcategorySuccess:function(e){return{type:h.DELETE_SUBCATEGORY_SUCCESS,payload:e}},deleteSubcategoryFailure:function(e){return{type:h.DELETE_SUBCATEGORY_FAILURE,payload:e}}};var te=d.a.mark(ge),ae=d.a.mark(Re),re=d.a.mark(be),ne=d.a.mark(Ae),ce=d.a.mark(Ie),se=d.a.mark(Oe),ue=d.a.mark(xe),oe=d.a.mark(we),ie=d.a.mark(ke),le=d.a.mark(Pe),Ee=d.a.mark(De),pe=d.a.mark(Le),de=d.a.mark(Be),me=d.a.mark(Me),Se=d.a.mark(ze),he=d.a.mark(Je),_e="http://gic.geog.mcgill.ca:5001";function fe(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function ge(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.CREATE_PRIMARY_CATEGORY_REQUEST,Re);case 2:case"end":return e.stop()}}),te)}function Re(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(Ce,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.createPrimaryCategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.createPrimaryCategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.createPrimaryCategoryFailure(a.t0));case 21:case"end":return a.stop()}}),ae,null,[[0,17]])}function Ce(e){return ye.apply(this,arguments)}function ye(){return(ye=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/primary_category"),{credentials:"same-origin",method:"post",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function be(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.GET_PRIMARY_CATEGORY_REQUEST,Ae);case 2:case"end":return e.stop()}}),re)}function Ae(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(ve,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.getPrimaryCategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.getPrimaryCategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.getPrimaryCategoryFailure(a.t0));case 21:case"end":return a.stop()}}),ne,null,[[0,17]])}function ve(e){return Te.apply(this,arguments)}function Te(){return(Te=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/primary_category"),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Ie(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.UPDATE_PRIMARY_CATEGORY_REQUEST,Oe);case 2:case"end":return e.stop()}}),ce)}function Oe(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(Ue,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.updatePrimaryCategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.updatePrimaryCategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.updatePrimaryCategoryFailure(a.t0));case 21:case"end":return a.stop()}}),se,null,[[0,17]])}function Ue(e){return je.apply(this,arguments)}function je(){return(je=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/primary_category/").concat(t.cat_id),{credentials:"same-origin",method:"put",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function xe(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.DELETE_PRIMARY_CATEGORY_REQUEST,we);case 2:case"end":return e.stop()}}),ue)}function we(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(Ne,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.deletePrimaryCategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.deletePrimaryCategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.deletePrimaryCategoryFailure(a.t0));case 21:case"end":return a.stop()}}),oe,null,[[0,17]])}function Ne(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/primary_category/").concat(t),{credentials:"same-origin",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ke(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.CREATE_SUBCATEGORY_REQUEST,Pe);case 2:case"end":return e.stop()}}),ie)}function Pe(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(Ye,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.createSubcategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.createSubcategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.createSubcategoryFailure(a.t0));case 21:case"end":return a.stop()}}),le,null,[[0,17]])}function Ye(e){return Fe.apply(this,arguments)}function Fe(){return(Fe=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/subcategory"),{credentials:"same-origin",method:"post",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function De(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.GET_SUBCATEGORY_REQUEST,Le);case 2:case"end":return e.stop()}}),Ee)}function Le(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(Qe,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.getSubcategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.getSubcategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.getSubcategoryFailure(a.t0));case 21:case"end":return a.stop()}}),pe,null,[[0,17]])}function Qe(e){return Ve.apply(this,arguments)}function Ve(){return(Ve=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/subcategory"),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Be(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.UPDATE_SUBCATEGORY_REQUEST,Me);case 2:case"end":return e.stop()}}),de)}function Me(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(He,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.updateSubcategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.updateSubcategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.updateSubcategoryFailure(a.t0));case 21:case"end":return a.stop()}}),me,null,[[0,17]])}function He(e){return qe.apply(this,arguments)}function qe(){return(qe=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/subcategory/").concat(t.subcat_id),{credentials:"same-origin",method:"put",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ze(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.DELETE_SUBCATEGORY_REQUEST,Je);case 2:case"end":return e.stop()}}),Se)}function Je(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(We,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)(ee.deleteSubcategorySuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)(ee.deleteSubcategoryFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)(ee.deleteSubcategoryFailure(a.t0));case 21:case"end":return a.stop()}}),he,null,[[0,17]])}function We(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(_e,"/subcategory/").concat(t),{credentials:"same-origin",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(fe())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var $e={createInsuranceRequest:function(e){return{type:h.CREATE_INSURANCE_REQUEST,payload:e}},createInsuranceSuccess:function(e){return{type:h.CREATE_INSURANCE_SUCCESS,payload:e}},createInsuranceFailure:function(e){return{type:h.CREATE_INSURANCE_FAILURE,payload:e}},getInsuranceRequest:function(e){return{type:h.GET_INSURANCE_REQUEST,payload:e}},getInsuranceSuccess:function(e){return{type:h.GET_INSURANCE_SUCCESS,payload:e}},getInsuranceFailure:function(e){return{type:h.GET_INSURANCE_FAILURE,payload:e}},updateInsuranceRequest:function(e){return{type:h.UPDATE_INSURANCE_REQUEST,payload:e}},updateInsuranceSuccess:function(e){return{type:h.UPDATE_INSURANCE_SUCCESS,payload:e}},updateInsuranceFailure:function(e){return{type:h.UPDATE_INSURANCE_FAILURE,payload:e}},deleteInsuranceRequest:function(e){return{type:h.DELETE_INSURANCE_REQUEST,payload:e}},deleteInsuranceSuccess:function(e){return{type:h.DELETE_INSURANCE_SUCCESS,payload:e}},deleteInsuranceFailure:function(e){return{type:h.DELETE_INSURANCE_FAILURE,payload:e}}};var Ke=d.a.mark(ot),Xe=d.a.mark(it),et=d.a.mark(pt),tt=d.a.mark(dt),at=d.a.mark(ht),rt=d.a.mark(_t),nt=d.a.mark(Rt),ct=d.a.mark(Ct),st="http://gic.geog.mcgill.ca:5001";function ut(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function ot(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.CREATE_INSURANCE_REQUEST,it);case 2:case"end":return e.stop()}}),Ke)}function it(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(lt,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)($e.createInsuranceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)($e.createInsuranceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)($e.createInsuranceFailure(a.t0));case 21:case"end":return a.stop()}}),Xe,null,[[0,17]])}function lt(e){return Et.apply(this,arguments)}function Et(){return(Et=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(st,"/insurance"),{credentials:"same-origin",method:"post",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(ut())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function pt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.GET_INSURANCE_REQUEST,dt);case 2:case"end":return e.stop()}}),et)}function dt(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(mt,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)($e.getInsuranceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)($e.getInsuranceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)($e.getInsuranceFailure(a.t0));case 21:case"end":return a.stop()}}),tt,null,[[0,17]])}function mt(e){return St.apply(this,arguments)}function St(){return(St=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(st,"/insurance"),{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(ut())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function ht(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.UPDATE_INSURANCE_REQUEST,_t);case 2:case"end":return e.stop()}}),at)}function _t(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(ft,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)($e.updateInsuranceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)($e.updateInsuranceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)($e.updateInsuranceFailure(a.t0));case 21:case"end":return a.stop()}}),rt,null,[[0,17]])}function ft(e){return gt.apply(this,arguments)}function gt(){return(gt=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(st,"/insurance/").concat(t.subcat_id),{credentials:"same-origin",method:"put",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(ut())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}function Rt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.d)(h.DELETE_INSURANCE_REQUEST,Ct);case 2:case"end":return e.stop()}}),nt)}function Ct(e){var t;return d.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(m.b)(yt,e.payload);case 3:if(200!==(t=a.sent).status){a.next=9;break}return a.next=7,Object(m.c)($e.deleteInsuranceSuccess(t.message));case 7:a.next=15;break;case 9:if(401!==t.status){a.next=13;break}window.location.href="/",a.next=15;break;case 13:return a.next=15,Object(m.c)($e.deleteInsuranceFailure(t.message));case 15:a.next=21;break;case 17:return a.prev=17,a.t0=a.catch(0),a.next=21,Object(m.c)($e.deleteInsuranceFailure(a.t0));case 21:case"end":return a.stop()}}),ct,null,[[0,17]])}function yt(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(S.a)(d.a.mark((function e(t){var a,r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(st,"/insurance/").concat(t),{credentials:"same-origin",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:"".concat(ut())}});case 3:return a=e.sent,r=a.status,e.next=7,a.json();case 7:return n=e.sent,e.abrupt("return",{message:n,status:r});case 11:return e.prev=11,e.t0=e.catch(0),e.abrupt("return",e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}var At=d.a.mark(vt);function vt(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(m.a)([T(),j(),G(),H(),Z(),ge(),be(),Ie(),xe(),ke(),De(),Be(),ze(),ot(),pt(),ht(),Rt()]);case 2:case"end":return e.stop()}}),At)}var Tt=a(41),It={status:"",error:"",primary_category:[],subcategory:[],insurance:[],service:{},listing:{},newEdit:[]},Ot={loggedin:!1,authMessage:"",authError:"",loggedInUser:{},loadingSignIn:!1,loadingSignUp:!1,loadingSignOut:!1},Ut={status:"",error:"",primary_category:[],subcategory:[]},jt={status:"",error:"",insurance:[]};function xt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function wt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?xt(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):xt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Nt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:It,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.GET_PRIMARY_CATEGORY_REQUEST:return wt({},e,{status:h.GET_PRIMARY_CATEGORY_REQUEST});case h.GET_PRIMARY_CATEGORY_SUCCESS:return wt({},e,{status:h.GET_PRIMARY_CATEGORY_SUCCESS,primary_category:t.payload});case h.GET_PRIMARY_CATEGORY_FAILURE:return wt({},e,{status:h.GET_PRIMARY_CATEGORY_FAILURE,error:t.payload});case h.GET_SUBCATEGORY_REQUEST:return wt({},e,{status:h.GET_SUBCATEGORY_REQUEST});case h.GET_SUBCATEGORY_SUCCESS:return wt({},e,{status:h.GET_SUBCATEGORY_SUCCESS,subcategory:t.payload});case h.GET_SUBCATEGORY_FAILURE:return wt({},e,{status:h.GET_SUBCATEGORY_FAILURE,error:t.payload});case h.GET_INSURANCE_REQUEST:return wt({},e,{status:h.GET_INSURANCE_REQUEST});case h.GET_INSURANCE_SUCCESS:return wt({},e,{status:h.GET_INSURANCE_SUCCESS,insurance:t.payload});case h.GET_INSURANCE_FAILURE:return wt({},e,{status:h.GET_INSURANCE_FAILURE,error:t.payload});case h.CREATE_SERVICE_REQUEST:return wt({},e,{status:h.CREATE_SERVICE_REQUEST});case h.CREATE_SERVICE_SUCCESS:return wt({},e,{status:h.CREATE_SERVICE_SUCCESS,service:t.payload});case h.CREATE_SERVICE_FAILURE:return wt({},e,{status:h.CREATE_SERVICE_FAILURE,error:t.payload});case h.GET_SERVICE_REQUEST:return wt({},e,{status:h.GET_SERVICE_REQUEST});case h.GET_SERVICE_SUCCESS:return wt({},e,{status:h.GET_SERVICE_SUCCESS,listing:t.payload});case h.GET_SERVICE_FAILURE:return wt({},e,{status:h.GET_SERVICE_FAILURE,error:t.payload});case h.EDIT_SERVICE_REQUEST:return wt({},e,{status:h.EDIT_SERVICE_REQUEST});case h.EDIT_SERVICE_SUCCESS:return wt({},e,{status:h.EDIT_SERVICE_SUCCESS,newEdit:t.payload});case h.EDIT_SERVICE_FAILURE:return wt({},e,{status:h.EDIT_SERVICE_FAILURE,error:t.payload});default:return e}}function Gt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function kt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Gt(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Gt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Pt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.SIGN_OUT_REQUEST:return kt({},e,{loadingSignOut:!0,authMessage:h.SIGN_OUT_REQUEST});case h.SIGN_OUT_SUCCESS:return kt({},e,{authMessage:h.SIGN_OUT_SUCCESS});case h.SIGN_OUT_FAILURE:return kt({},e,{loadingSignOut:!1,authMessage:t.error});case h.SIGN_IN_REQUEST:return kt({},e,{loadingSignIn:!0,authMessage:h.SIGN_IN_REQUEST});case h.SIGN_IN_SUCCESS:return kt({},e,{loggedin:!0,authMessage:h.SIGN_IN_SUCCESS,loadingSignIn:!1,loggedInUser:t.payload});case h.SIGN_IN_FAILURE:return kt({},e,{authError:t.error,authMessage:h.SIGN_IN_FAILURE,loadingSignIn:!1});default:return e}}function Yt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Ft(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Yt(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Yt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Dt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ut,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.CREATE_PRIMARY_CATEGORY_REQUEST:return Ft({},e,{status:h.CREATE_PRIMARY_CATEGORY_REQUEST});case h.CREATE_PRIMARY_CATEGORY_SUCCESS:return Ft({},e,{status:h.CREATE_PRIMARY_CATEGORY_SUCCESS,primary_category:e.primary_category.concat(t.payload)});case h.CREATE_PRIMARY_CATEGORY_FAILURE:return Ft({},e,{status:h.CREATE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case h.GET_PRIMARY_CATEGORY_REQUEST:return Ft({},e,{status:h.GET_PRIMARY_CATEGORY_REQUEST});case h.GET_PRIMARY_CATEGORY_SUCCESS:return Ft({},e,{status:h.GET_PRIMARY_CATEGORY_SUCCESS,primary_category:t.payload});case h.GET_PRIMARY_CATEGORY_FAILURE:return Ft({},e,{status:h.GET_PRIMARY_CATEGORY_FAILURE,error:t.payload});case h.UPDATE_PRIMARY_CATEGORY_REQUEST:return Ft({},e,{status:h.CREATE_PRIMARY_CATEGORY_REQUEST});case h.UPDATE_PRIMARY_CATEGORY_SUCCESS:var a=e.primary_category,r=a.findIndex((function(e){return e.cat_id===t.payload.cat_id}));return a[r]=t.payload,Ft({},e,{status:h.UPDATE_PRIMARY_CATEGORY_SUCCESS,primary_category:a});case h.UPDATE_PRIMARY_CATEGORY_FAILURE:return Ft({},e,{status:h.UPDATE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case h.DELETE_PRIMARY_CATEGORY_REQUEST:return Ft({},e,{status:h.DELETE_PRIMARY_CATEGORY_REQUEST});case h.DELETE_PRIMARY_CATEGORY_SUCCESS:return a=e.primary_category.filter((function(e){return e.cat_id!==t.payload.cat_id})),Ft({},e,{status:h.DELETE_PRIMARY_CATEGORY_SUCCESS,primary_category:a});case h.DELETE_PRIMARY_CATEGORY_FAILURE:return Ft({},e,{status:h.DELETE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case h.CREATE_SUBCATEGORY_REQUEST:return Ft({},e,{status:h.CREATE_SUBCATEGORY_REQUEST});case h.CREATE_SUBCATEGORY_SUCCESS:return Ft({},e,{status:h.CREATE_SUBCATEGORY_SUCCESS,subcategory:e.subcategory.concat(t.payload)});case h.CREATE_SUBCATEGORY_FAILURE:return Ft({},e,{status:h.CREATE_SUBCATEGORY_FAILURE,error:t.payload});case h.GET_SUBCATEGORY_REQUEST:return Ft({},e,{status:h.GET_SUBCATEGORY_REQUEST});case h.GET_SUBCATEGORY_SUCCESS:return Ft({},e,{status:h.GET_SUBCATEGORY_SUCCESS,subcategory:t.payload});case h.GET_SUBCATEGORY_FAILURE:return Ft({},e,{status:h.GET_SUBCATEGORY_FAILURE,error:t.payload});case h.UPDATE_SUBCATEGORY_REQUEST:return Ft({},e,{status:h.CREATE_SUBCATEGORY_REQUEST});case h.UPDATE_SUBCATEGORY_SUCCESS:var n=e.subcategory;r=n.findIndex((function(e){return e.subcat_id===t.payload.subcat_id}));return n[r]=t.payload,Ft({},e,{status:h.UPDATE_SUBCATEGORY_SUCCESS,subcategory:n});case h.UPDATE_SUBCATEGORY_FAILURE:return Ft({},e,{status:h.UPDATE_SUBCATEGORY_FAILURE,error:t.payload});case h.DELETE_SUBCATEGORY_REQUEST:return Ft({},e,{status:h.DELETE_SUBCATEGORY_REQUEST});case h.DELETE_SUBCATEGORY_SUCCESS:return n=e.subcategory.filter((function(e){return e.subcat_id!==t.payload.subcat_id})),Ft({},e,{status:h.DELETE_SUBCATEGORY_SUCCESS,subcategory:n});case h.DELETE_SUBCATEGORY_FAILURE:return Ft({},e,{status:h.DELETE_SUBCATEGORY_FAILURE,error:t.payload});default:return e}}function Lt(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Qt(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Lt(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Lt(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function Vt(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h.CREATE_INSURANCE_REQUEST:return Qt({},e,{status:h.CREATE_INSURANCE_REQUEST});case h.CREATE_INSURANCE_SUCCESS:return Qt({},e,{status:h.CREATE_INSURANCE_SUCCESS,insurance:e.insurance.concat(t.payload)});case h.CREATE_INSURANCE_FAILURE:return Qt({},e,{status:h.CREATE_INSURANCE_FAILURE,error:t.payload});case h.GET_INSURANCE_REQUEST:return Qt({},e,{status:h.GET_INSURANCE_REQUEST});case h.GET_INSURANCE_SUCCESS:return Qt({},e,{status:h.GET_INSURANCE_SUCCESS,insurance:t.payload});case h.GET_INSURANCE_FAILURE:return Qt({},e,{status:h.GET_INSURANCE_FAILURE,error:t.payload});case h.UPDATE_INSURANCE_REQUEST:return Qt({},e,{status:h.CREATE_INSURANCE_REQUEST});case h.UPDATE_INSURANCE_SUCCESS:var a=e.insurance,r=a.findIndex((function(e){return e.insur_id===t.payload.insur_id}));return a[r]=t.payload,Qt({},e,{status:h.UPDATE_INSURANCE_SUCCESS,insurance:a});case h.UPDATE_INSURANCE_FAILURE:return Qt({},e,{status:h.UPDATE_INSURANCE_FAILURE,error:t.payload});case h.DELETE_INSURANCE_REQUEST:return Qt({},e,{status:h.DELETE_INSURANCE_REQUEST});case h.DELETE_INSURANCE_SUCCESS:return a=e.insurance.filter((function(e){return e.insur_id!==t.payload.insur_id})),Qt({},e,{status:h.DELETE_INSURANCE_SUCCESS,insurance:a});case h.DELETE_INSURANCE_FAILURE:return Qt({},e,{status:h.DELETE_INSURANCE_FAILURE,error:t.payload});default:return e}}var Bt=function(e){return Object(i.c)({router:Object(o.b)(e),serviceReducer:Nt,auth:Pt,categoryReducer:Dt,insuranceReducer:Vt})},Mt=a(146),Ht=a.n(Mt),qt=a(9),zt=a(25),Jt=a(26),Wt=a(28),Zt=a(27),$t=a(29),Kt=a(22),Xt=a(398),ea=a(61),ta=(a(215),a(401)),aa=a(403),ra=a(14),na=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var r=a.props.dispatch,n={email:t.email,password:t.password};r(F.signInRequest(n))}}))},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.loggedin!=e.loggedin&&1==this.props.loggedin&&(window.location.href="/home"),this.props.authMessage!==e.authMessage&&this.props.authMessage===h.SIGN_IN_FAILURE&&alert(this.props.authError)}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return n.a.createElement("div",null,n.a.createElement(ta.a,{onSubmit:this.handleSubmit,className:"login-form"},n.a.createElement("h1",null,"Admin Login"),n.a.createElement(ta.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(n.a.createElement(aa.a,{prefix:n.a.createElement(ra.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),n.a.createElement(ta.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(n.a.createElement(aa.a,{prefix:n.a.createElement(ra.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),n.a.createElement(ta.a.Item,null,n.a.createElement(ea.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:this.props.loadingSignIn},"Log in"))))}}]),t}(n.a.Component);var ca=ta.a.create()(na),sa=Object(Kt.f)(Object(l.c)((function(e){var t=e.auth,a=t.authMessage;return{loadingSignIn:t.loadingSignIn,loggedin:t.loggedin,authMessage:a,authError:t.authError}}))(ca)),ua=a(44),oa=a(93),ia=a.n(oa),la=(a(337),a(402)),Ea=a(85),pa=a(400),da=la.a.Panel,ma=function(e){function t(e){return Object(zt.a)(this,t),Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.listing,a=e.primary_category,r=e.subcategory,c=e.insurance.find((function(e){return e.insur_id===t.insur_id})),s=a.find((function(e){return e.cat_id===t.primary_cat_id})),u=r.find((function(e){return e.subcat_id===t.sub_cat_id}));return n.a.createElement(Ea.a,null,n.a.createElement(pa.a,null,n.a.createElement(la.a,{bordered:!1},n.a.createElement(da,{header:t.name,style:{border:0}},n.a.createElement(Ea.a,null,n.a.createElement(ua.a,{to:"/editService/".concat(t.service_id)},n.a.createElement(ea.a,null,"Modify Service"))),n.a.createElement(Ea.a,{className:"last_modified"},"Last Modified Date: ",ia()(t.last_verified,"YYYY-MM-DDTHH:mm:ss.sssZ").format("LLLL")),n.a.createElement("table",null,n.a.createElement("tbody",null,n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Service ID:"),n.a.createElement("td",null,t.service_id)),n.a.createElement("tr",null,n.a.createElement("td",null,"Service Name:"),n.a.createElement("td",null,t.name)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Primary Category:"),n.a.createElement("td",null,s?s.cat_name:"")),n.a.createElement("tr",null,n.a.createElement("td",null,"Subcategory:"),n.a.createElement("td",null,u?u.subcat_name:"")),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Insurance:"),n.a.createElement("td",null,c?c.insur_name:"")),n.a.createElement("tr",null,n.a.createElement("td",null,"Languages Spoken:"),n.a.createElement("td",null,t.languages_spoken)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Address:"),n.a.createElement("td",null,t.adress)),n.a.createElement("tr",null,n.a.createElement("td",null,"Latitude:"),n.a.createElement("td",null,t.lat)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Longitude:"),n.a.createElement("td",null,t.lon)),n.a.createElement("tr",null,n.a.createElement("td",null,"Transit:"),n.a.createElement("td",null,t.transit)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Website:"),n.a.createElement("td",null,t.website)),n.a.createElement("tr",null,n.a.createElement("td",null,"Phone Number:"),n.a.createElement("td",null,t.phone_num)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Emergency Number:"),n.a.createElement("td",null,t.emergency_num)),n.a.createElement("tr",null,n.a.createElement("td",null,"Drop In:"),n.a.createElement("td",null,t.drop_in)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Services:"),n.a.createElement("td",null,t.services)),n.a.createElement("tr",null,n.a.createElement("td",null,"Services (FR):"),n.a.createElement("td",null,t.services_fr)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Notes:"),n.a.createElement("td",null,t.notes)),n.a.createElement("tr",null,n.a.createElement("td",null,"Notes (FR):"),n.a.createElement("td",null,t.notes_fr)),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Verified By:"),n.a.createElement("td",null,t.verified_by)),n.a.createElement("tr",null,n.a.createElement("td",null,"Business Hours(Monday):"),n.a.createElement("td",null,t.hours[1])),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Business Hours(Tuesday):"),n.a.createElement("td",null,t.hours[2])),n.a.createElement("tr",null,n.a.createElement("td",null,"Business Hours(Wednesday):"),n.a.createElement("td",null,t.hours[3])),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Business Hours(Thursday):"),n.a.createElement("td",null,t.hours[4])),n.a.createElement("tr",null,n.a.createElement("td",null,"Business Hours(Friday):"),n.a.createElement("td",null,t.hours[5])),n.a.createElement("tr",{className:"light-row"},n.a.createElement("td",null,"Business Hours(Saturday):"),n.a.createElement("td",null,t.hours[6])),n.a.createElement("tr",null,n.a.createElement("td",null,"Business Hours(Sunday):"),n.a.createElement("td",null,t.hours[0]))))))))}}]),t}(n.a.Component),Sa=Object(Kt.f)(Object(l.c)((function(e){var t=e.serviceReducer;return{primary_category:t.primary_category,subcategory:t.subcategory,insurance:t.insurance}}))(ma)),ha=aa.a.Search,_a=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).state={filter:""},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(_.getServiceRequest()),this.props.dispatch(ee.getPrimaryCategoryRequest()),this.props.dispatch(ee.getSubcategoryRequest()),this.props.dispatch($e.getInsuranceRequest())}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"Card_Container"},n.a.createElement(ha,{placeholder:"search service",onChange:function(t){e.setState({filter:t.target.value}),console.log(t.target.value)},className:"search-bar"}),this.props.listing.length>0&&this.props.listing.map((function(t,a){if(e.props.listing[a].name){var r=e.state.filter.toLowerCase();if(e.props.listing[a].name.toLowerCase().indexOf(r)>-1)return n.a.createElement(Sa,{listing:t,key:a})}})))}}]),t}(n.a.Component),fa=Object(l.c)((function(e){var t=e.serviceReducer;return{listing:t.listing,primary_category:t.primary_category,subcategory:t.subcategory,insurance:t.insurance}}))(_a),ga=(a(111),function(e){function t(e){return Object(zt.a)(this,t),Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.loggedin!=e.loggedin&&1==this.props.loggedin&&(window.location.href="/home")}},{key:"render",value:function(){return n.a.createElement("div",{className:"home-wrapper"},n.a.createElement("div",{className:"newService"},n.a.createElement(ua.a,{to:"/newService"},n.a.createElement(ea.a,null,"Create New Service")),n.a.createElement(ua.a,{to:"/category"},n.a.createElement(ea.a,null,"Manage Primary Categories")),n.a.createElement(ua.a,{to:"/subcategory"},n.a.createElement(ea.a,null,"Manage Subcategories")),n.a.createElement(ua.a,{to:"/insurance"},n.a.createElement(ea.a,null,"Manage Insurances"))),n.a.createElement(fa,null))}}]),t}(n.a.Component)),Ra=Object(Kt.f)(Object(l.c)((function(e){return{loggedInUser:e.auth.loggedInUser}}))(ga)),Ca=a(37),ya=(a(340),a(97)),ba=a(405),Aa=a(404),va=ya.a.Option,Ta=aa.a.TextArea,Ia=aa.a.Group,Oa=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).handleClose=function(e,t){var r=a.state.tags[t].filter((function(t){return t!==e})),n=a.state.tags;n[t]=r,a.setState({tags:n})},a.showInput=function(e){var t=a.state.inputVisible;t[e]=!0;var r="input"+e;a.setState({inputVisible:t},(function(){return a[r].focus()}))},a.handleInputChange=function(e,t){var r=a.state.inputValue;r[t]=e.target.value,a.setState({inputValue:r})},a.handleInputConfirm=function(e){var t=a.state,r=t.tags,n=t.inputValue,c=t.inputVisible;n[e]&&-1===r[e].indexOf(n[e])&&(r[e]=[].concat(Object(Ca.a)(r[e]),[n[e]])),c[e]=!1,n[e]="",a.setState({tags:r,inputVisible:c,inputValue:n})},a.saveInputRefLang=function(e){return a.inputlang=e},a.saveInputRefServices=function(e){return a.inputservices=e},a.saveInputRefServicesFr=function(e){return a.inputservicesFr=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var r="{";if(!(a.getHours(t.hours_sun)&&a.getHours(t.hours_mon)&&a.getHours(t.hours_tue)&&a.getHours(t.hours_wed)&&a.getHours(t.hours_thu)&&a.getHours(t.hours_fri)&&a.getHours(t.hours_sat)))return alert("Business hours must follow the format HH:mm-HH:mm");r+=a.getHours(t.hours_sun,!1),r+=a.getHours(t.hours_mon,!1),r+=a.getHours(t.hours_tue,!1),r+=a.getHours(t.hours_wed,!1),r+=a.getHours(t.hours_thu,!1),r+=a.getHours(t.hours_fri,!1),r+=a.getHours(t.hours_sat,!0),r+="}",t.hours=r;var n=a.state.tags.lang.join(","),c=a.state.tags.services.join(","),s=a.state.tags.servicesFr.join(",");t.languages_spoken=n,t.services=c,t.services_fr=s,a.props.dispatch(_.createServiceRequest(t))}}))},a.state={tags:{lang:[],services:[],servicesFr:[]},inputVisible:{lang:!1,services:!1,servicesFr:!1},inputValue:{lang:"",services:"",servicesFr:""}},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(ee.getPrimaryCategoryRequest()),this.props.dispatch(ee.getSubcategoryRequest()),this.props.dispatch($e.getInsuranceRequest())}},{key:"componentDidUpdate",value:function(e){e.status!==this.props.status&&this.props.status===h.CREATE_SERVICE_FAILURE&&alert(this.props.error.detail?this.props.error.detail:this.props.error),e.status!==this.props.status&&this.props.status===h.CREATE_SERVICE_SUCCESS&&(alert("Service created successfully"),window.location.href="/home")}},{key:"parseTime",value:function(e){if(!e)return!0;var t=e.split("-");if(2!==t.length)return!1;var a=t[0].split(":");if(2!==a.length||isNaN(a[0])||isNaN(a[1]))return!1;var r=t[1].split(":");return 2===r.length&&!isNaN(r[0])&&!isNaN(r[1])}},{key:"getHours",value:function(e,t){return e?!!this.parseTime(e)&&"{".concat(e,t?"}":"},"):t?"{NA}":"{NA},"}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,r=a.tags,c=a.inputVisible,s=a.inputValue;return n.a.createElement("div",{className:"service-form-wrapper"},n.a.createElement("h1",null,"Create a new service"),n.a.createElement(ta.a,{onSubmit:this.handleSubmit},n.a.createElement(ta.a.Item,{label:"Service Name"},t("name",{})(n.a.createElement(aa.a,{placeholder:"eg. CLSC du Parc"}))),n.a.createElement(ta.a.Item,{label:"Primary category"},t("primary_cat_id",{})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.primary_category.map((function(e,t){return n.a.createElement(va,{key:t,value:e.cat_id},e.cat_name)}))))),n.a.createElement(ta.a.Item,{label:"Subcategory"},t("sub_cat_id",{})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.subcategory.map((function(e,t){return n.a.createElement(va,{key:t,value:e.subcat_id},e.subcat_name)}))))),n.a.createElement(ta.a.Item,{label:"Insurance"},t("insur_id",{})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.insurance.map((function(e,t){return n.a.createElement(va,{key:t,value:e.insur_id},e.insur_name)}))))),n.a.createElement(ta.a.Item,{label:"Languages Spoken"},n.a.createElement("div",null,'Please indicate the full language name (ex: "English", "French")'),n.a.createElement("div",null,r.lang.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"lang")}},t)})),c.lang&&n.a.createElement(aa.a,{ref:this.saveInputRefLang,type:"text",size:"small",style:{width:78},value:s.lang,onChange:function(t){return e.handleInputChange(t,"lang")},onBlur:function(){return e.handleInputConfirm("lang")},onPressEnter:function(){return e.handleInputConfirm("lang")}}),!c.lang&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("lang")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Language"))),n.a.createElement(ta.a.Item,{label:"Address"},t("address",{})(n.a.createElement(aa.a,{placeholder:"eg. 123 Avenue du Parc"}))),n.a.createElement(ta.a.Item,{label:"Latitude"},t("lat",{})(n.a.createElement(Aa.a,{style:{width:"100%"},placeholder:"eg. 45.23424"}))),n.a.createElement(ta.a.Item,{label:"Longitude"},t("lon",{})(n.a.createElement(Aa.a,{style:{width:"100%"},placeholder:"eg. -73.34535"}))),n.a.createElement(ta.a.Item,{label:"Transit"},t("transit",{})(n.a.createElement(aa.a,{placeholder:"eg. Yes, near Place des Arts"}))),n.a.createElement(ta.a.Item,{label:"Website"},t("website",{})(n.a.createElement(aa.a,{placeholder:"eg. www.example.com"}))),n.a.createElement(ta.a.Item,{label:"Phone number"},t("phone_num",{})(n.a.createElement(aa.a,{placeholder:"eg. 514-555-4444"}))),n.a.createElement(ta.a.Item,{label:"Emergency Number"},t("emergency_num",{})(n.a.createElement(aa.a,{placeholder:"eg. 514-555-4444"}))),n.a.createElement(ta.a.Item,{label:"Drop In"},t("drop_in",{})(n.a.createElement(aa.a,{placeholder:"eg. Yes"}))),n.a.createElement(ta.a.Item,{label:"Services"},n.a.createElement("div",null,r.services.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"services")}},t)})),c.services&&n.a.createElement(aa.a,{ref:this.saveInputRefServices,type:"text",size:"small",style:{width:78},value:s.services,onChange:function(t){return e.handleInputChange(t,"services")},onBlur:function(){return e.handleInputConfirm("services")},onPressEnter:function(){return e.handleInputConfirm("services")}}),!c.services&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("services")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Service"))),n.a.createElement(ta.a.Item,{label:"Services (FR)"},n.a.createElement("div",null,r.servicesFr.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"servicesFr")}},t)})),c.servicesFr&&n.a.createElement(aa.a,{ref:this.saveInputRefServicesFr,type:"text",size:"small",style:{width:120},value:s.servicesFr,onChange:function(t){return e.handleInputChange(t,"servicesFr")},onBlur:function(){return e.handleInputConfirm("servicesFr")},onPressEnter:function(){return e.handleInputConfirm("servicesFr")}}),!c.servicesFr&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("servicesFr")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Service (FR)"))),n.a.createElement(ta.a.Item,{label:"Notes"},t("notes",{})(n.a.createElement(Ta,{rows:10,placeholder:""}))),n.a.createElement(ta.a.Item,{label:"Notes (FR)"},t("notes_fr",{})(n.a.createElement(Ta,{rows:10,placeholder:""}))),n.a.createElement(ta.a.Item,{label:"Verified by"},t("verified_by",{})(n.a.createElement(aa.a,{placeholder:""}))),"Business Hours:",n.a.createElement(Ia,{compact:!0},n.a.createElement(ta.a.Item,null,t("hours_sun",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Sun"}))),n.a.createElement(ta.a.Item,null,t("hours_mon",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Mon"}))),n.a.createElement(ta.a.Item,null,t("hours_tue",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Tue"}))),n.a.createElement(ta.a.Item,null,t("hours_wed",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Wed"}))),n.a.createElement(ta.a.Item,null,t("hours_thu",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Thu"}))),n.a.createElement(ta.a.Item,null,t("hours_fri",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Fri"}))),n.a.createElement(ta.a.Item,null,t("hours_sat",{})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Sat"})))),n.a.createElement(ta.a.Item,null,n.a.createElement(ea.a,{type:"primary",htmlType:"submit"},"Create Service"))))}}]),t}(n.a.Component),Ua=ta.a.create()(Oa),ja=Object(Kt.f)(Object(l.c)((function(e){var t=e.auth.loggedInUser,a=e.serviceReducer;return{status:a.status,error:a.error,primary_category:a.primary_category,subcategory:a.subcategory,insurance:a.insurance,loggedInUser:t}}))(Ua)),xa=(a(348),ya.a.Option),wa=aa.a.TextArea,Na=aa.a.Group,Ga=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).handleClose=function(e,t){var r=a.state.tags[t].filter((function(t){return t!==e})),n=a.state.tags;n[t]=r,a.setState({tags:n})},a.showInput=function(e){var t=a.state.inputVisible;t[e]=!0;var r="input"+e;a.setState({inputVisible:t},(function(){return a[r].focus()}))},a.handleInputChange=function(e,t){var r=a.state.inputValue;r[t]=e.target.value,a.setState({inputValue:r})},a.handleInputConfirm=function(e){var t=a.state,r=t.tags,n=t.inputValue,c=t.inputVisible;n[e]&&-1===r[e].indexOf(n[e])&&(r[e]=[].concat(Object(Ca.a)(r[e]),[n[e]])),c[e]=!1,n[e]="",a.setState({tags:r,inputVisible:c,inputValue:n})},a.saveInputRefLang=function(e){return a.inputlang=e},a.saveInputRefServices=function(e){return a.inputservices=e},a.saveInputRefServicesFr=function(e){return a.inputservicesFr=e},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields((function(e,t){if(!e){var r="{";if(Array.isArray(t.hours_sun)&&(t.hours_sun=t.hours_sun[0]),Array.isArray(t.hours_mon)&&(t.hours_mon=t.hours_mon[0]),Array.isArray(t.hours_tue)&&(t.hours_tue=t.hours_tue[0]),Array.isArray(t.hours_wed)&&(t.hours_wed=t.hours_wed[0]),Array.isArray(t.hours_thu)&&(t.hours_thu=t.hours_thu[0]),Array.isArray(t.hours_fri)&&(t.hours_fri=t.hours_fri[0]),Array.isArray(t.hours_sat)&&(t.hours_sat=t.hours_sat[0]),!(a.getHours(t.hours_sun)&&a.getHours(t.hours_mon)&&a.getHours(t.hours_tue)&&a.getHours(t.hours_wed)&&a.getHours(t.hours_thu)&&a.getHours(t.hours_fri)&&a.getHours(t.hours_sat)))return alert("Business hours must follow the format HH:mm-HH:mm");r+=a.getHours(t.hours_sun,!1),r+=a.getHours(t.hours_mon,!1),r+=a.getHours(t.hours_tue,!1),r+=a.getHours(t.hours_wed,!1),r+=a.getHours(t.hours_thu,!1),r+=a.getHours(t.hours_fri,!1),r+=a.getHours(t.hours_sat,!0),r+="}",t.hours=r;var n=a.state.tags.lang.join(","),c=a.state.tags.services.join(","),s=a.state.tags.servicesFr.join(",");t.languages_spoken=n,t.services=c,t.services_fr=s;var u=a.props.match.params.service_id;a.props.dispatch(_.editServiceRequest({values:t,serviceId:u}))}}))},a.state={tags:{lang:[],services:[],servicesFr:[]},inputVisible:{lang:!1,services:!1,servicesFr:!1},inputValue:{lang:"",services:"",servicesFr:""}},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidMount",value:function(){for(var e=this.props.listing,t=this.props.match.params.service_id,a=[],r=0;r<e.length;r++)e[r].service_id==t&&a.push(e[r]);var n=a[0],c=n.languages_spoken?n.languages_spoken.split(","):[],s=n.services?n.services.split(","):[],u=n.services_fr?n.services_fr.split(","):[];this.setState({tags:{lang:c,services:s,servicesFr:u}})}},{key:"componentDidUpdate",value:function(e,t){e.status!==this.props.status&&this.props.status===h.EDIT_SERVICE_FAILURE&&alert("ERROR SAVING"),e.status!==this.props.status&&this.props.status===h.EDIT_SERVICE_SUCCESS&&(alert("Service modified successfully"),window.location.href="/home")}},{key:"parseTime",value:function(e){if("NA"!=e){if(!e)return!0;var t=e.split("-");if(2!==t.length)return!1;var a=t[0].split(":");if(2!==a.length||isNaN(a[0])||isNaN(a[1]))return!1;var r=t[1].split(":");return 2===r.length&&!isNaN(r[0])&&!isNaN(r[1])}}},{key:"getHours",value:function(e,t){return e?!!this.parseTime(e)&&"{".concat(e,t?"}":"},"):t?"{NA}":"{NA},"}},{key:"render",value:function(){for(var e=this,t=this.props.form.getFieldDecorator,a=this.state,r=a.tags,c=a.inputVisible,s=a.inputValue,u=this.props.listing,o=this.props.match.params.service_id,i=[],l=0;l<u.length;l++)u[l].service_id==o&&i.push(u[l]);var E=i[0];return n.a.createElement("div",{className:"service-form-wrapper"},n.a.createElement("h1",null,"Edit Service"),n.a.createElement(ta.a,{onSubmit:this.handleSubmit},n.a.createElement(ta.a.Item,{label:"Service Name"},t("name",{initialValue:E.name})(n.a.createElement(aa.a,{style:{width:"100%"}}))),n.a.createElement(ta.a.Item,{label:"Primary category"},t("primary_cat_id",{initialValue:E.primary_cat_id})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.primary_category.map((function(e,t){return n.a.createElement(xa,{key:t,value:e.cat_id},e.cat_name)}))))),n.a.createElement(ta.a.Item,{label:"Subcategory"},t("sub_cat_id",{initialValue:E.sub_cat_id})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.subcategory.map((function(e,t){return n.a.createElement(xa,{key:t,value:e.subcat_id},e.subcat_name)}))))),n.a.createElement(ta.a.Item,{label:"Insurance"},t("insur_id",{initialValue:E.insur_id})(n.a.createElement(ya.a,{placeholder:"Select"},this.props.insurance.map((function(e,t){return n.a.createElement(xa,{key:t,value:e.insur_id},e.insur_name)}))))),n.a.createElement(ta.a.Item,{label:"Languages Spoken"},n.a.createElement("div",null,r.lang.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"lang")}},t)})),c.lang&&n.a.createElement(aa.a,{ref:this.saveInputRefLang,type:"text",size:"small",style:{width:78},value:s.lang,onChange:function(t){return e.handleInputChange(t,"lang")},onBlur:function(){return e.handleInputConfirm("lang")},onPressEnter:function(){return e.handleInputConfirm("lang")}}),!c.lang&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("lang")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Language"))),n.a.createElement(ta.a.Item,{label:"Address"},t("address",{initialValue:E.address})(n.a.createElement(aa.a,{placeholder:"eg. 123 Avenue du Parc"}))),n.a.createElement(ta.a.Item,{label:"Latitude"},t("lat",{initialValue:E.lat})(n.a.createElement(Aa.a,{style:{width:"100%"},placeholder:"eg. 45.23424"}))),n.a.createElement(ta.a.Item,{label:"Longitude"},t("lon",{initialValue:E.lon})(n.a.createElement(Aa.a,{style:{width:"100%"},placeholder:"eg. -73.34535"}))),n.a.createElement(ta.a.Item,{label:"Transit"},t("transit",{initialValue:E.transit})(n.a.createElement(aa.a,{placeholder:"eg. Yes, near Place des Arts"}))),n.a.createElement(ta.a.Item,{label:"Website"},t("website",{initialValue:E.website})(n.a.createElement(aa.a,{placeholder:"eg. www.example.com"}))),n.a.createElement(ta.a.Item,{label:"Phone number"},t("phone_num",{initialValue:E.phone_num})(n.a.createElement(aa.a,{placeholder:"eg. 514-555-4444"}))),n.a.createElement(ta.a.Item,{label:"Emergency Number"},t("emergency_num",{initialValue:E.emergency_num})(n.a.createElement(aa.a,{placeholder:"eg. 514-555-4444"}))),n.a.createElement(ta.a.Item,{label:"Drop In"},t("drop_in",{initialValue:E.drop_in})(n.a.createElement(aa.a,{placeholder:"eg. Yes"}))),n.a.createElement(ta.a.Item,{label:"Services"},n.a.createElement("div",null,r.services.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"services")}},t)})),c.services&&n.a.createElement(aa.a,{ref:this.saveInputRefServices,type:"text",size:"small",style:{width:78},value:s.services,onChange:function(t){return e.handleInputChange(t,"services")},onBlur:function(){return e.handleInputConfirm("services")},onPressEnter:function(){return e.handleInputConfirm("services")}}),!c.services&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("services")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Service"))),n.a.createElement(ta.a.Item,{label:"Services (FR)"},n.a.createElement("div",null,r.servicesFr.map((function(t,a){return n.a.createElement(ba.a,{key:t,closable:!0,onClose:function(){return e.handleClose(t,"servicesFr")}},t)})),c.servicesFr&&n.a.createElement(aa.a,{ref:this.saveInputRefServicesFr,type:"text",size:"small",style:{width:120},value:s.servicesFr,onChange:function(t){return e.handleInputChange(t,"servicesFr")},onBlur:function(){return e.handleInputConfirm("servicesFr")},onPressEnter:function(){return e.handleInputConfirm("servicesFr")}}),!c.servicesFr&&n.a.createElement(ba.a,{onClick:function(){return e.showInput("servicesFr")},style:{background:"#fff",borderStyle:"dashed"}},n.a.createElement(ra.a,{type:"plus"})," Add Service (FR)"))),n.a.createElement(ta.a.Item,{label:"Notes"},t("notes",{initialValue:E.notes})(n.a.createElement(wa,{rows:10,placeholder:""}))),n.a.createElement(ta.a.Item,{label:"Notes (FR)"},t("notes_fr",{initialValue:E.notes_fr})(n.a.createElement(wa,{rows:10,placeholder:""}))),n.a.createElement(ta.a.Item,{label:"Verified by"},t("verified_by",{initialValue:E.verified_by})(n.a.createElement(aa.a,{placeholder:""}))),"Business Hours:",n.a.createElement(Na,{compact:!0},n.a.createElement(ta.a.Item,null,t("hours_sun",{initialValue:"NA"==E.hours[0]?"":E.hours[0]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Sun"}))),n.a.createElement(ta.a.Item,null,t("hours_mon",{initialValue:"NA"==E.hours[1]?"":E.hours[1]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Mon"}))),n.a.createElement(ta.a.Item,null,t("hours_tue",{initialValue:"NA"==E.hours[2]?"":E.hours[2]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Tue"}))),n.a.createElement(ta.a.Item,null,t("hours_wed",{initialValue:"NA"==E.hours[3]?"":E.hours[3]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Wed"}))),n.a.createElement(ta.a.Item,null,t("hours_thu",{initialValue:"NA"==E.hours[4]?"":E.hours[4]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Thu"}))),n.a.createElement(ta.a.Item,null,t("hours_fri",{initialValue:"NA"==E.hours[5]?"":E.hours[5]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Fri"}))),n.a.createElement(ta.a.Item,null,t("hours_sat",{initialValue:"NA"==E.hours[6]?"":E.hours[6]})(n.a.createElement(aa.a,{style:{width:150},placeholder:"Sat"})))),n.a.createElement(ta.a.Item,{className:"cancel-button"},n.a.createElement(ea.a,{onClick:function(){return window.history.back()}},"Cancel")),n.a.createElement(ta.a.Item,{className:"button"},n.a.createElement(ea.a,{type:"primary",htmlType:"submit"},"Submit"))))}}]),t}(n.a.Component),ka=ta.a.create()(Ga),Pa=Object(Kt.f)(Object(l.c)((function(e){var t=e.serviceReducer,a=t.listing,r=t.primary_category,n=t.subcategory,c=t.insurance,s=t.newEdit,u=t.status;return{listing:a,primary_category:r,subcategory:n,insurance:c,loggedInUser:e.auth.loggedInUser,newEdit:s,status:u}}))(ka)),Ya=a(62),Fa=a(396),Da=a(399);function La(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function Qa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?La(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):La(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Va=n.a.createContext(),Ba=ta.a.create()((function(e){var t=e.form,a=(e.index,Object(Ya.a)(e,["form","index"]));return n.a.createElement(Va.Provider,{value:t},n.a.createElement("tr",a))})),Ma=function(e){function t(){var e,a;Object(zt.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(Wt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(c)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},(function(){e&&a.input.focus()}))},a.save=function(e){var t=a.props,r=t.record,n=t.handleSave;a.form.validateFields((function(t,c){t&&t[e.currentTarget.id]||(a.toggleEdit(),n(Qa({},r,{},c)))}))},a.renderCell=function(e){a.form=e;var t=a.props,r=t.children,c=t.dataIndex,s=t.record,u=t.title;return a.state.editing?n.a.createElement(ta.a.Item,{style:{margin:0}},e.getFieldDecorator(c,{rules:[{required:!0,message:"".concat(u," is required.")}],initialValue:s[c]})(n.a.createElement(aa.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):n.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},r)},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),r=Object(Ya.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return n.a.createElement("td",r,t?n.a.createElement(Va.Consumer,null,this.renderCell):a)}}]),t}(n.a.Component),Ha=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).handleDelete=function(e){var t=Object(Ca.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.cat_id!==e}))}),a.props.dispatch(ee.deletePrimaryCategoryRequest(e))},a.handleAdd=function(){var e=a.state,t=e.count,r=e.dataSource,n={key:t,cat_id:"",cat_name:""};a.setState({dataSource:[].concat(Object(Ca.a)(r),[n]),count:t+1,adding:!0})},a.handleSave=function(e){var t=Object(Ca.a)(a.state.dataSource),r=t.findIndex((function(t){return e.key===t.key})),n=t[r];t.splice(r,1,Qa({},n,{},e)),a.state.adding?a.props.dispatch(ee.createPrimaryCategoryRequest(e)):a.props.dispatch(ee.updatePrimaryCategoryRequest(e)),a.setState({dataSource:t,adding:!1})},a.columns=[{title:"Category ID",dataIndex:"cat_id",width:"20%",editable:!1},{title:"Category Name",dataIndex:"cat_name",editable:!0},{title:"Action",dataIndex:"action",width:"20%",render:function(e,t){return a.state.dataSource.length>=1?n.a.createElement(Fa.a,{title:"Are you sure you want to delete?",onConfirm:function(){return a.handleDelete(t.cat_id)}},n.a.createElement("a",null,"Delete")):null}}],a.state={dataSource:[],count:0,adding:!1},a.props.dispatch(ee.getPrimaryCategoryRequest()),a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.status!==this.props.status&&(this.props.status===h.GET_PRIMARY_CATEGORY_SUCCESS||this.props.status===h.CREATE_PRIMARY_CATEGORY_SUCCESS||this.props.status===h.UPDATE_PRIMARY_CATEGORY_SUCCESS||this.props.status===h.DELETE_PRIMARY_CATEGORY_SUCCESS)){for(var t=[],a=0;a<this.props.primary_category.length;a++)t.push(this.props.primary_category[a]),t[a].key=a;this.setState({dataSource:t,count:this.props.primary_category.length})}}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:Ba,cell:Ma}},r=this.columns.map((function(t){return t.editable?Qa({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return n.a.createElement("div",null,n.a.createElement(ea.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),n.a.createElement(Da.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:r,pagination:!1}))}}]),t}(n.a.Component),qa=Object(l.c)((function(e){var t=e.categoryReducer;return{status:t.status,primary_category:t.primary_category}}))(Ha),za=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).state={dataSource:[],count:0},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"home-wrapper"},n.a.createElement(qa,{dataSource:this.state.dataSource,count:this.state.count}))}}]),t}(n.a.Component),Ja=Object(Kt.f)(za),Wa=a(397);function Za(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function $a(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Za(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Za(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ka=ya.a.Option,Xa=n.a.createContext(),er=ta.a.create()((function(e){var t=e.form,a=(e.index,Object(Ya.a)(e,["form","index"]));return n.a.createElement(Xa.Provider,{value:t},n.a.createElement("tr",a))})),tr=function(e){function t(){var e,a;Object(zt.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(Wt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(c)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},(function(){e&&a.input.focus()}))},a.save=function(e){var t=a.props,r=t.record,n=t.handleSave;a.form.validateFields((function(t,c){t&&t[e.currentTarget.id]||(a.toggleEdit(),n($a({},r,{},c)))}))},a.renderCell=function(e){a.form=e;var t=a.props,r=t.children,c=t.dataIndex,s=t.record,u=t.title;return a.state.editing?n.a.createElement(ta.a.Item,{style:{margin:0}},e.getFieldDecorator(c,{rules:[{required:!0,message:"".concat(u," is required.")}],initialValue:s[c]})(n.a.createElement(aa.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):n.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},r)},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),r=Object(Ya.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return n.a.createElement("td",r,t?n.a.createElement(Xa.Consumer,null,this.renderCell):a)}}]),t}(n.a.Component),ar=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).changePrimaryCategory=function(e){a.setState({pc_id:e})},a.handleDelete=function(e){var t=Object(Ca.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.subcat_id!==e}))}),a.props.dispatch(ee.deleteSubcategoryRequest(e))},a.handleAdd=function(){var e=a.state,t=e.count,r=e.dataSource,n={key:t,subcat_id:"",subcat_name:"",pc_id:""};a.setState({dataSource:[].concat(Object(Ca.a)(r),[n]),count:t+1,adding:!0})},a.handleSave=function(e){var t=Object(Ca.a)(a.state.dataSource),r=t.findIndex((function(t){return e.key===t.key})),n=t[r];t.splice(r,1,$a({},n,{},e)),a.setState({dataSource:t})},a.handleSubmit=function(e){e.pc_id=a.state.pc_id,a.state.adding?a.props.dispatch(ee.createSubcategoryRequest(e)):a.props.dispatch(ee.updateSubcategoryRequest(e))},a.columns=[{title:"Category ID",dataIndex:"subcat_id",width:"20%",editable:!1},{title:"Category Name",dataIndex:"subcat_name",editable:!0},{title:"Primary Category",dataIndex:"pc_id",render:function(e){return n.a.createElement(ya.a,{defaultValue:e,style:{width:200},onChange:a.changePrimaryCategory},a.props.primary_category.map((function(e,t){return n.a.createElement(Ka,{key:t,value:e.cat_id},e.cat_name)})))}},{title:"Action",dataIndex:"action",width:"20%",render:function(e,t){return a.state.dataSource.length>=1?n.a.createElement("div",null,n.a.createElement(Fa.a,{title:"Are you sure you want to delete?",onConfirm:function(){return a.handleDelete(t.subcat_id)}},n.a.createElement("a",null,"Delete")),n.a.createElement(Wa.a,{type:"vertical"}),n.a.createElement("a",{onClick:function(){return a.handleSubmit(t)}},"Save")):null}}],a.state={dataSource:[],count:0,adding:!1,pc_id:0},a.props.dispatch(ee.getPrimaryCategoryRequest()),a.props.dispatch(ee.getSubcategoryRequest()),a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.status!==this.props.status&&(this.props.status===h.GET_SUBCATEGORY_SUCCESS||this.props.status===h.CREATE_SUBCATEGORY_SUCCESS||this.props.status===h.UPDATE_SUBCATEGORY_SUCCESS||this.props.status===h.DELETE_SUBCATEGORY_SUCCESS)){for(var t=[],a=0;a<this.props.subcategory.length;a++)t.push(this.props.subcategory[a]),t[a].key=a;this.setState({dataSource:t,count:this.props.subcategory.length,adding:!1})}}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:er,cell:tr}},r=this.columns.map((function(t){return t.editable?$a({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return n.a.createElement("div",null,n.a.createElement(ea.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),n.a.createElement(Da.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:r,pagination:!1}))}}]),t}(n.a.Component),rr=Object(l.c)((function(e){var t=e.categoryReducer;return{status:t.status,primary_category:t.primary_category,subcategory:t.subcategory}}))(ar),nr=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).state={dataSource:[],count:0},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"home-wrapper"},n.a.createElement(rr,{dataSource:this.state.dataSource,count:this.state.count}))}}]),t}(n.a.Component),cr=Object(Kt.f)(nr);function sr(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function ur(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?sr(a,!0).forEach((function(t){Object(Tt.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):sr(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var or=n.a.createContext(),ir=ta.a.create()((function(e){var t=e.form,a=(e.index,Object(Ya.a)(e,["form","index"]));return n.a.createElement(or.Provider,{value:t},n.a.createElement("tr",a))})),lr=function(e){function t(){var e,a;Object(zt.a)(this,t);for(var r=arguments.length,c=new Array(r),s=0;s<r;s++)c[s]=arguments[s];return(a=Object(Wt.a)(this,(e=Object(Zt.a)(t)).call.apply(e,[this].concat(c)))).state={editing:!1},a.toggleEdit=function(){var e=!a.state.editing;a.setState({editing:e},(function(){e&&a.input.focus()}))},a.save=function(e){var t=a.props,r=t.record,n=t.handleSave;a.form.validateFields((function(t,c){t&&t[e.currentTarget.id]||(a.toggleEdit(),n(ur({},r,{},c)))}))},a.renderCell=function(e){a.form=e;var t=a.props,r=t.children,c=t.dataIndex,s=t.record,u=t.title;return a.state.editing?n.a.createElement(ta.a.Item,{style:{margin:0}},e.getFieldDecorator(c,{rules:[{required:!0,message:"".concat(u," is required.")}],initialValue:s[c]})(n.a.createElement(aa.a,{ref:function(e){return a.input=e},onPressEnter:a.save,onBlur:a.save}))):n.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:a.toggleEdit},r)},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){var e=this.props,t=e.editable,a=(e.dataIndex,e.title,e.record,e.index,e.handleSave,e.children),r=Object(Ya.a)(e,["editable","dataIndex","title","record","index","handleSave","children"]);return n.a.createElement("td",r,t?n.a.createElement(or.Consumer,null,this.renderCell):a)}}]),t}(n.a.Component),Er=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).handleDelete=function(e){var t=Object(Ca.a)(a.state.dataSource);a.setState({dataSource:t.filter((function(t){return t.insur_id!==e}))}),a.props.dispatch($e.deleteInsuranceRequest(e))},a.handleAdd=function(){var e=a.state,t=e.count,r=e.dataSource,n={key:t,insur_id:"",insur_name:""};a.setState({dataSource:[].concat(Object(Ca.a)(r),[n]),count:t+1,adding:!0})},a.handleSave=function(e){var t=Object(Ca.a)(a.state.dataSource),r=t.findIndex((function(t){return e.key===t.key})),n=t[r];t.splice(r,1,ur({},n,{},e)),a.state.adding?a.props.dispatch($e.createInsuranceRequest(e)):a.props.dispatch($e.updateInsuranceRequest(e)),a.setState({dataSource:t,adding:!1})},a.columns=[{title:"Insurance ID",dataIndex:"insur_id",width:"20%",editable:!1},{title:"Insurance Name",dataIndex:"insur_name",editable:!0},{title:"Action",dataIndex:"action",width:"20%",render:function(e,t){return a.state.dataSource.length>=1?n.a.createElement(Fa.a,{title:"Are you sure you want to delete?",onConfirm:function(){return a.handleDelete(t.insur_id)}},n.a.createElement("a",null,"Delete")):null}}],a.state={dataSource:[],count:0,adding:!1},a.props.dispatch($e.getInsuranceRequest()),a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"componentDidUpdate",value:function(e){if(e.status!==this.props.status&&(this.props.status===h.GET_INSURANCE_SUCCESS||this.props.status===h.CREATE_INSURANCE_SUCCESS||this.props.status===h.UPDATE_INSURANCE_SUCCESS||this.props.status===h.DELETE_INSURANCE_SUCCESS)){for(var t=[],a=0;a<this.props.insurance.length;a++)t.push(this.props.insurance[a]),t[a].key=a;this.setState({dataSource:t,count:this.props.insurance.length})}}},{key:"render",value:function(){var e=this,t=this.state.dataSource,a={body:{row:ir,cell:lr}},r=this.columns.map((function(t){return t.editable?ur({},t,{onCell:function(a){return{record:a,editable:t.editable,dataIndex:t.dataIndex,title:t.title,handleSave:e.handleSave}}}):t}));return n.a.createElement("div",null,n.a.createElement(ea.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),n.a.createElement(Da.a,{components:a,rowClassName:function(){return"editable-row"},bordered:!0,dataSource:t,columns:r,pagination:!1}))}}]),t}(n.a.Component),pr=Object(l.c)((function(e){var t=e.insuranceReducer;return{status:t.status,insurance:t.insurance}}))(Er),dr=function(e){function t(e){return Object(zt.a)(this,t),Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"render",value:function(){return console.log("insurancerander"),n.a.createElement("div",{className:"home-wrapper"},n.a.createElement(pr,null))}}]),t}(n.a.Component),mr=Object(Kt.f)(dr),Sr=Xt.a.Header,hr=Xt.a.Content,_r=(Xt.a.Sider,Object(u.a)()),fr=Object(E.a)(),gr=Object(i.e)(Bt(_r),Object(i.a)(fr));fr.run(vt);gr.subscribe((function(){return console.log(gr.getState())}));var Rr=function(e){function t(e){var a;return Object(zt.a)(this,t),(a=Object(Wt.a)(this,Object(Zt.a)(t).call(this,e))).signOut=function(){(0,a.props.dispatch)(F.signOutRequest())},a.backHome=function(){window.location.href="/home"},a}return Object($t.a)(t,e),Object(Jt.a)(t,[{key:"getCookie",value:function(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}},{key:"showButton",value:function(){if(this.getCookie()&&"null"!=this.getCookie())return n.a.createElement("div",{style:{display:"inline-block",float:"right"}},n.a.createElement(ea.a,{style:{marginRight:"50px"},className:"menu-option",onClick:this.backHome},"Home"),n.a.createElement(ea.a,{style:{},className:"menu-option",onClick:this.signOut},"Logout"))}},{key:"render",value:function(){return n.a.createElement(Xt.a,{style:{minHeight:"100vh"}},n.a.createElement(Sr,{align:"middle"},n.a.createElement("div",{style:{color:"white"}},n.a.createElement("span",{style:{float:"left",fontSize:"25px"}},"Health & Wellness Map Admin"),this.showButton())),n.a.createElement(hr,null,n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/",component:sa})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/home",component:Ra})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/newService",component:ja})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/category",component:Ja})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/subcategory",component:cr})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/insurance",component:mr})),n.a.createElement(Kt.c,null,n.a.createElement(Kt.a,{exact:!0,path:"/editService/:service_id",component:Pa}))))}}]),t}(n.a.Component),Cr=Object(l.c)((function(e){return{}}))(Rr),yr=(a(389),Object(u.a)()),br=Object(E.a)(),Ar=Object(i.e)(Bt(yr),Object(i.a)(br));br.run(vt);Ar.subscribe((function(){return console.log(Ar.getState())}));var vr=function(){return n.a.createElement("div",{className:"App"},n.a.createElement(qt.b,{locale:Ht.a},n.a.createElement(l.a,{store:Ar},n.a.createElement(o.a,{history:yr},n.a.createElement(Cr,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(n.a.createElement(vr,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[202,1,2]]]);
//# sourceMappingURL=main.3233ac76.chunk.js.map