!function(e){function t(t){for(var r,i,l=t[0],c=t[1],o=t[2],E=0,d=[];E<l.length;E++)i=l[E],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&d.push(s[i][0]),s[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);for(u&&u(t);d.length;)d.shift()();return n.push.apply(n,o||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,l=1;l<a.length;l++){var c=a[l];0!==s[c]&&(r=!1)}r&&(n.splice(t--,1),e=i(i.s=a[0]))}return e}var r={},s={0:0},n=[];function i(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=r,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(a,r,function(t){return e[t]}.bind(null,r));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],c=l.push.bind(l);l.push=t,l=l.slice();for(var o=0;o<l.length;o++)t(l[o]);var u=c;n.push([578,1]),a()}({143:function(e,t,a){var r=a(495);"string"==typeof r&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};a(29)(r,s);r.locals&&(e.exports=r.locals)},355:function(e,t,a){var r={"./af":154,"./af.js":154,"./ar":155,"./ar-dz":156,"./ar-dz.js":156,"./ar-kw":157,"./ar-kw.js":157,"./ar-ly":158,"./ar-ly.js":158,"./ar-ma":159,"./ar-ma.js":159,"./ar-sa":160,"./ar-sa.js":160,"./ar-tn":161,"./ar-tn.js":161,"./ar.js":155,"./az":162,"./az.js":162,"./be":163,"./be.js":163,"./bg":164,"./bg.js":164,"./bm":165,"./bm.js":165,"./bn":166,"./bn.js":166,"./bo":167,"./bo.js":167,"./br":168,"./br.js":168,"./bs":169,"./bs.js":169,"./ca":170,"./ca.js":170,"./cs":171,"./cs.js":171,"./cv":172,"./cv.js":172,"./cy":173,"./cy.js":173,"./da":174,"./da.js":174,"./de":175,"./de-at":176,"./de-at.js":176,"./de-ch":177,"./de-ch.js":177,"./de.js":175,"./dv":178,"./dv.js":178,"./el":179,"./el.js":179,"./en-SG":180,"./en-SG.js":180,"./en-au":181,"./en-au.js":181,"./en-ca":182,"./en-ca.js":182,"./en-gb":183,"./en-gb.js":183,"./en-ie":184,"./en-ie.js":184,"./en-il":185,"./en-il.js":185,"./en-nz":186,"./en-nz.js":186,"./eo":187,"./eo.js":187,"./es":188,"./es-do":189,"./es-do.js":189,"./es-us":190,"./es-us.js":190,"./es.js":188,"./et":191,"./et.js":191,"./eu":192,"./eu.js":192,"./fa":193,"./fa.js":193,"./fi":194,"./fi.js":194,"./fo":195,"./fo.js":195,"./fr":196,"./fr-ca":197,"./fr-ca.js":197,"./fr-ch":198,"./fr-ch.js":198,"./fr.js":196,"./fy":199,"./fy.js":199,"./ga":200,"./ga.js":200,"./gd":201,"./gd.js":201,"./gl":202,"./gl.js":202,"./gom-latn":203,"./gom-latn.js":203,"./gu":204,"./gu.js":204,"./he":205,"./he.js":205,"./hi":206,"./hi.js":206,"./hr":207,"./hr.js":207,"./hu":208,"./hu.js":208,"./hy-am":209,"./hy-am.js":209,"./id":210,"./id.js":210,"./is":211,"./is.js":211,"./it":212,"./it-ch":213,"./it-ch.js":213,"./it.js":212,"./ja":214,"./ja.js":214,"./jv":215,"./jv.js":215,"./ka":216,"./ka.js":216,"./kk":217,"./kk.js":217,"./km":218,"./km.js":218,"./kn":219,"./kn.js":219,"./ko":220,"./ko.js":220,"./ku":221,"./ku.js":221,"./ky":222,"./ky.js":222,"./lb":223,"./lb.js":223,"./lo":224,"./lo.js":224,"./lt":225,"./lt.js":225,"./lv":226,"./lv.js":226,"./me":227,"./me.js":227,"./mi":228,"./mi.js":228,"./mk":229,"./mk.js":229,"./ml":230,"./ml.js":230,"./mn":231,"./mn.js":231,"./mr":232,"./mr.js":232,"./ms":233,"./ms-my":234,"./ms-my.js":234,"./ms.js":233,"./mt":235,"./mt.js":235,"./my":236,"./my.js":236,"./nb":237,"./nb.js":237,"./ne":238,"./ne.js":238,"./nl":239,"./nl-be":240,"./nl-be.js":240,"./nl.js":239,"./nn":241,"./nn.js":241,"./pa-in":242,"./pa-in.js":242,"./pl":243,"./pl.js":243,"./pt":244,"./pt-br":245,"./pt-br.js":245,"./pt.js":244,"./ro":246,"./ro.js":246,"./ru":247,"./ru.js":247,"./sd":248,"./sd.js":248,"./se":249,"./se.js":249,"./si":250,"./si.js":250,"./sk":251,"./sk.js":251,"./sl":252,"./sl.js":252,"./sq":253,"./sq.js":253,"./sr":254,"./sr-cyrl":255,"./sr-cyrl.js":255,"./sr.js":254,"./ss":256,"./ss.js":256,"./sv":257,"./sv.js":257,"./sw":258,"./sw.js":258,"./ta":259,"./ta.js":259,"./te":260,"./te.js":260,"./tet":261,"./tet.js":261,"./tg":262,"./tg.js":262,"./th":263,"./th.js":263,"./tl-ph":264,"./tl-ph.js":264,"./tlh":265,"./tlh.js":265,"./tr":266,"./tr.js":266,"./tzl":267,"./tzl.js":267,"./tzm":268,"./tzm-latn":269,"./tzm-latn.js":269,"./tzm.js":268,"./ug-cn":270,"./ug-cn.js":270,"./uk":271,"./uk.js":271,"./ur":272,"./ur.js":272,"./uz":273,"./uz-latn":274,"./uz-latn.js":274,"./uz.js":273,"./vi":275,"./vi.js":275,"./x-pseudo":276,"./x-pseudo.js":276,"./yo":277,"./yo.js":277,"./zh-cn":278,"./zh-cn.js":278,"./zh-hk":279,"./zh-hk.js":279,"./zh-tw":280,"./zh-tw.js":280};function s(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}s.keys=function(){return Object.keys(r)},s.resolve=n,e.exports=s,s.id=355},403:function(e,t,a){var r=a(404);"string"==typeof r&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};a(29)(r,s);r.locals&&(e.exports=r.locals)},404:function(e,t,a){(e.exports=a(28)(!1)).push([e.i,'body {\n    text-align: center;\n    background-color: #c7bdbd;\n    /* background-image: url("https://www.google.com/url?sa=i&source=images&cd=&ved=2ahUKEwi5vqmZjqblAhXszIUKHXLlAeEQjRx6BAgBEAQ&url=https%3A%2F%2Fwww.macleans.ca%2Fschools%2Fmcgill-university%2F&psig=AOvVaw1CGil6yVZyd8lCN-0HlZL1&ust=1571498483590467"); */\n}\n\n.login-form {\n    margin-top: 100px;\n    display: inline-block;\n    width: 30%;\n    max-width: 300px;\n}\n.login-form-forgot {\n    float: right;\n}\n.login-form-button {\n    width: 100%;\n}\n\n',""])},491:function(e,t,a){var r=a(492);"string"==typeof r&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};a(29)(r,s);r.locals&&(e.exports=r.locals)},492:function(e,t,a){(e.exports=a(28)(!1)).push([e.i,"td {\n    word-wrap: break-word;\n    padding: 5px;\n}\ntable {\n    width: 100%;\n    table-layout: fixed;\n}\n.last_modified {\n    font-size: 1rem;\n    margin-top: 10px;\n}\n.light-row {\n    background-color: #cef;\n}\n.ant-card-body {\n    padding:0 !important;\n}",""])},495:function(e,t,a){(e.exports=a(28)(!1)).push([e.i,".home-wrapper {\n    margin: 20px 40px;\n}\n.newService {\n    margin-bottom: 20px;\n}\n.search-bar{\n    margin-bottom: 20px;\n}\n.editable-cell {\n    position: relative;\n  }\n  \n  .editable-cell-value-wrap {\n    padding: 5px 12px;\n    cursor: pointer;\n  }\n  \n  .editable-row:hover .editable-cell-value-wrap {\n    border: 1px solid #d9d9d9;\n    border-radius: 4px;\n    padding: 4px 11px;\n  }",""])},504:function(e,t,a){var r=a(505);"string"==typeof r&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};a(29)(r,s);r.locals&&(e.exports=r.locals)},505:function(e,t,a){(e.exports=a(28)(!1)).push([e.i,".service-form-wrapper {\n    margin: 50px 40px;\n}",""])},514:function(e,t,a){var r=a(515);"string"==typeof r&&(r=[[e.i,r,""]]);var s={insert:"head",singleton:!1};a(29)(r,s);r.locals&&(e.exports=r.locals)},515:function(e,t,a){(e.exports=a(28)(!1)).push([e.i,".service-form-wrapper {\n    margin: 50px 40px;\n}\n.button {\n    margin-left: 40px;\n    display: inline-block;\n}\n.cancel-button {\n    display: inline-block;\n}",""])},578:function(e,t,a){"use strict";a.r(t);a(335);var r=a(10),s=(a(50),a(27)),n=(a(341),a(149)),i=a(0),l=a.n(i),c=a(14),o=a.n(c),u=a(26),E=a(42),d=a(117),h=a(60),p=a(32),m=a(331),_=a(8),S={CREATE_PRIMARY_CATEGORY_REQUEST:"CREATE_PRIMARY_CATEGORY_REQUEST",CREATE_PRIMARY_CATEGORY_SUCCESS:"CREATE_PRIMARY_CATEGORY_SUCCESS",CREATE_PRIMARY_CATEGORY_FAILURE:"CREATE_PRIMARY_CATEGORY_FAILURE",GET_PRIMARY_CATEGORY_REQUEST:"GET_PRIMARY_CATEGORY_REQUEST",GET_PRIMARY_CATEGORY_SUCCESS:"GET_PRIMARY_CATEGORY_SUCCESS",GET_PRIMARY_CATEGORY_FAILURE:"GET_PRIMARY_CATEGORY_FAILURE",UPDATE_PRIMARY_CATEGORY_REQUEST:"UPDATE_PRIMARY_CATEGORY_REQUEST",UPDATE_PRIMARY_CATEGORY_SUCCESS:"UPDATE_PRIMARY_CATEGORY_SUCCESS",UPDATE_PRIMARY_CATEGORY_FAILURE:"UPDATE_PRIMARY_CATEGORY_FAILURE",DELETE_PRIMARY_CATEGORY_REQUEST:"DELETE_PRIMARY_CATEGORY_REQUEST",DELETE_PRIMARY_CATEGORY_SUCCESS:"DELETE_PRIMARY_CATEGORY_SUCCESS",DELETE_PRIMARY_CATEGORY_FAILURE:"DELETE_PRIMARY_CATEGORY_FAILURE",CREATE_SUBCATEGORY_REQUEST:"CREATE_SUBCATEGORY_REQUEST",CREATE_SUBCATEGORY_SUCCESS:"CREATE_SUBCATEGORY_SUCCESS",CREATE_SUBCATEGORY_FAILURE:"CREATE_SUBCATEGORY_FAILURE",GET_SUBCATEGORY_REQUEST:"GET_SUBCATEGORY_REQUEST",GET_SUBCATEGORY_SUCCESS:"GET_SUBCATEGORY_SUCCESS",GET_SUBCATEGORY_FAILURE:"GET_SUBCATEGORY_FAILURE",UPDATE_SUBCATEGORY_REQUEST:"UPDATE_SUBCATEGORY_REQUEST",UPDATE_SUBCATEGORY_SUCCESS:"UPDATE_SUBCATEGORY_SUCCESS",UPDATE_SUBCATEGORY_FAILURE:"UPDATE_SUBCATEGORY_FAILURE",DELETE_SUBCATEGORY_REQUEST:"DELETE_SUBCATEGORY_REQUEST",DELETE_SUBCATEGORY_SUCCESS:"DELETE_SUBCATEGORY_SUCCESS",DELETE_SUBCATEGORY_FAILURE:"DELETE_SUBCATEGORY_FAILURE",GET_INSURANCE_REQUEST:"GET_INSURANCE_REQUEST",GET_INSURANCE_SUCCESS:"GET_INSURANCE_SUCCESS",GET_INSURANCE_FAILURE:"GET_INSURANCE_FAILURE",CREATE_SERVICE_REQUEST:"CREATE_SERVICE_REQUEST",CREATE_SERVICE_SUCCESS:"CREATE_SERVICE_SUCCESS",CREATE_SERVICE_FAILURE:"CREATE_SERVICE_FAILURE",GET_SERVICE_REQUEST:"GET_SERVICE_REQUEST",GET_SERVICE_SUCCESS:"GET_SERVICE_SUCCESS",GET_SERVICE_FAILURE:"GET_SERVICE_FAILURE",EDIT_SERVICE_REQUEST:"EDIT_SERVICE_REQUEST",EDIT_SERVICE_SUCCESS:"EDIT_SERVICE_SUCCESS",EDIT_SERVICE_FAILURE:"EDIT_SERVICE_FAILURE",SIGN_IN_REQUEST:"SIGN_IN_REQUEST",SIGN_IN_SUCCESS:"SIGN_IN_SUCCESS",SIGN_IN_FAILURE:"SIGN_IN_FAILURE",SIGN_OUT_REQUEST:"SIGN_OUT_REQUEST",SIGN_OUT_SUCCESS:"SIGN_OUT_SUCCESS",SIGN_OUT_FAILURE:"SIGN_OUT_FAILURE"};const g={getInsuranceRequest:function(e){return{type:S.GET_INSURANCE_REQUEST,payload:e}},getInsuranceSuccess:function(e){return{type:S.GET_INSURANCE_SUCCESS,payload:e}},getInsuranceFailure:function(e){return{type:S.GET_INSURANCE_FAILURE,payload:e}},createServiceRequest:function(e){return{type:S.CREATE_SERVICE_REQUEST,payload:e}},createServiceSuccess:function(e){return{type:S.CREATE_SERVICE_SUCCESS,payload:e}},createServiceFailure:function(e){return{type:S.CREATE_SERVICE_FAILURE,payload:e}},getServiceRequest:function(e){return{type:S.GET_SERVICE_REQUEST,payload:e}},getServiceSuccess:function(e){return{type:S.GET_SERVICE_SUCCESS,payload:e}},getServiceFailure:function(e){return{type:S.GET_SERVICE_FAILURE,payload:e}},editServiceRequest:function(e){return{type:S.EDIT_SERVICE_REQUEST,payload:e}},editServiceSuccess:function(e){return{type:S.EDIT_SERVICE_SUCCESS,payload:e}},editServiceFailure:function(e){return{type:S.EDIT_SERVICE_FAILURE,payload:e}}};const y="http://gic.geog.mcgill.ca:5001";function R(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function*C(){yield Object(_.d)(S.GET_INSURANCE_REQUEST,T)}function*T(e){try{const t=yield Object(_.b)(A,e.payload);200===t.status?yield Object(_.c)(g.getInsuranceSuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(g.getInsuranceFailure(t.message))}catch(e){yield Object(_.c)(g.getInsuranceFailure(e))}}async function A(e){try{let e=await fetch(`${y}/insurance`,{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${R()}`}}),t=e.status;return{message:await e.json(),status:t}}catch(e){return e}}function*I(){yield Object(_.d)(S.CREATE_SERVICE_REQUEST,b)}function*b(e){try{const t=yield Object(_.b)(f,e.payload);200===t.status?yield Object(_.c)(g.createServiceSuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(g.createServiceFailure(t.message))}catch(e){yield Object(_.c)(g.createServiceFailure(e))}}async function f(e){try{let t=await fetch(`${y}/service`,{credentials:"same-origin",method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${R()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*U(){yield Object(_.d)(S.GET_SERVICE_REQUEST,v)}function*v(e){try{const t=yield Object(_.b)(O,e.payload);200===t.status?yield Object(_.c)(g.getServiceSuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(g.getServiceFailure(t.message))}catch(e){yield Object(_.c)(g.getServiceFailure(e))}}async function O(e){try{let e=await fetch(`${y}/services`,{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${R()}`}}),t=e.status;return{message:await e.json(),status:t}}catch(e){return e}}function*j(){yield Object(_.d)(S.EDIT_SERVICE_REQUEST,G)}function*G(e){try{const t=yield Object(_.b)(w,e.payload);200===t.status?(console.log(e.payload),yield Object(_.c)(g.editServiceSuccess(t.message))):401===t.status?window.location.href="/":(console.log("error",e.payload),yield Object(_.c)(g.editServiceFailure(t.message)))}catch(e){yield Object(_.c)(g.editServiceFailure(e))}}async function w(e){try{let t=await fetch(`${y}/service/${e.serviceId}`,{credentials:"same-origin",method:"put",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${R()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}a(352);const Y={signInRequest:function(e){return{type:S.SIGN_IN_REQUEST,payload:e}},signInSuccess:function(e){return{type:S.SIGN_IN_SUCCESS,payload:e}},signInFailure:function(e){return{type:S.SIGN_IN_FAILURE,error:e}},signOutRequest:function(){return{type:S.SIGN_OUT_REQUEST}},signOutSuccess:function(){return{type:S.SIGN_OUT_SUCCESS}},signOutFailure:function(e){return{type:S.SIGN_OUT_FAILURE,error:e}}};const P="http://gic.geog.mcgill.ca:5001";function F(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function*N(){yield Object(_.d)(S.SIGN_IN_REQUEST,D)}async function L(e){try{let t=await fetch(`${P}/signin`,{credentials:"same-origin",method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache"}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*D(e){try{const t=yield Object(_.b)(L,e.payload);200==t.status?(!function(e,t,a){var r="";if(a){var s=new Date;s.setTime(s.getTime()+24*a*60*60*1e3),r="; expires="+s.toUTCString()}document.cookie=e+"="+(t||"")+r+"; path=http://localhost:8081/"}("token",t.message.token,60),yield Object(_.c)(Y.signInSuccess(t.message))):yield Object(_.c)(Y.signInFailure(t.message))}catch(e){yield Object(_.c)(Y.signInFailure(e))}}function*x(){yield Object(_.d)(S.SIGN_OUT_REQUEST,V)}async function k(){try{let e=await fetch(`${P}/logout`,{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${F()}`}});return 200==e.status&&(window.location.href="/",document.cookie=`token=; expires=${new Date}; path=/;`),e}catch(e){return e}}function*V(){const e=yield Object(_.b)(k);try{200==e.status?yield Object(_.c)(Y.signOutSuccess()):yield Object(_.c)(Y.signOutFailure(e.message.error))}catch(e){yield Object(_.c)(Y.signOutFailure(e))}}const M={createPrimaryCategoryRequest:function(e){return{type:S.CREATE_PRIMARY_CATEGORY_REQUEST,payload:e}},createPrimaryCategorySuccess:function(e){return{type:S.CREATE_PRIMARY_CATEGORY_SUCCESS,payload:e}},createPrimaryCategoryFailure:function(e){return{type:S.CREATE_PRIMARY_CATEGORY_FAILURE,payload:e}},getPrimaryCategoryRequest:function(e){return{type:S.GET_PRIMARY_CATEGORY_REQUEST,payload:e}},getPrimaryCategorySuccess:function(e){return{type:S.GET_PRIMARY_CATEGORY_SUCCESS,payload:e}},getPrimaryCategoryFailure:function(e){return{type:S.UPDATE_PRIMARY_CATEGORY_FAILURE,payload:e}},updatePrimaryCategoryRequest:function(e){return{type:S.UPDATE_PRIMARY_CATEGORY_REQUEST,payload:e}},updatePrimaryCategorySuccess:function(e){return{type:S.UPDATE_PRIMARY_CATEGORY_SUCCESS,payload:e}},updatePrimaryCategoryFailure:function(e){return{type:S.UPDATE_PRIMARY_CATEGORY_FAILURE,payload:e}},deletePrimaryCategoryRequest:function(e){return{type:S.DELETE_PRIMARY_CATEGORY_REQUEST,payload:e}},deletePrimaryCategorySuccess:function(e){return{type:S.DELETE_PRIMARY_CATEGORY_SUCCESS,payload:e}},deletePrimaryCategoryFailure:function(e){return{type:S.DELETE_PRIMARY_CATEGORY_FAILURE,payload:e}},createSubcategoryRequest:function(e){return{type:S.CREATE_SUBCATEGORY_REQUEST,payload:e}},createSubcategorySuccess:function(e){return{type:S.CREATE_SUBCATEGORY_SUCCESS,payload:e}},createSubcategoryFailure:function(e){return{type:S.CREATE_SUBCATEGORY_FAILURE,payload:e}},getSubcategoryRequest:function(e){return{type:S.GET_SUBCATEGORY_REQUEST,payload:e}},getSubcategorySuccess:function(e){return{type:S.GET_SUBCATEGORY_SUCCESS,payload:e}},getSubcategoryFailure:function(e){return{type:S.UPDATE_SUBCATEGORY_FAILURE,payload:e}},updateSubcategoryRequest:function(e){return{type:S.UPDATE_SUBCATEGORY_REQUEST,payload:e}},updateSubcategorySuccess:function(e){return{type:S.UPDATE_SUBCATEGORY_SUCCESS,payload:e}},updateSubcategoryFailure:function(e){return{type:S.UPDATE_SUBCATEGORY_FAILURE,payload:e}},deleteSubcategoryRequest:function(e){return{type:S.DELETE_SUBCATEGORY_REQUEST,payload:e}},deleteSubcategorySuccess:function(e){return{type:S.DELETE_SUBCATEGORY_SUCCESS,payload:e}},deleteSubcategoryFailure:function(e){return{type:S.DELETE_SUBCATEGORY_FAILURE,payload:e}}};const B="http://gic.geog.mcgill.ca:5001";function Q(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}function*H(){yield Object(_.d)(S.CREATE_PRIMARY_CATEGORY_REQUEST,q)}function*q(e){try{const t=yield Object(_.b)(z,e.payload);200===t.status?yield Object(_.c)(M.createPrimaryCategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.createPrimaryCategoryFailure(t.message))}catch(e){yield Object(_.c)(M.createPrimaryCategoryFailure(e))}}async function z(e){try{let t=await fetch(`${B}/primary_category`,{credentials:"same-origin",method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*$(){yield Object(_.d)(S.GET_PRIMARY_CATEGORY_REQUEST,J)}function*J(e){try{const t=yield Object(_.b)(W,e.payload);200===t.status?yield Object(_.c)(M.getPrimaryCategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.getPrimaryCategoryFailure(t.message))}catch(e){yield Object(_.c)(M.getPrimaryCategoryFailure(e))}}async function W(e){try{let e=await fetch(`${B}/primary_category`,{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),t=e.status;return{message:await e.json(),status:t}}catch(e){return e}}function*Z(){yield Object(_.d)(S.UPDATE_PRIMARY_CATEGORY_REQUEST,K)}function*K(e){try{const t=yield Object(_.b)(X,e.payload);200===t.status?yield Object(_.c)(M.updatePrimaryCategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.updatePrimaryCategoryFailure(t.message))}catch(e){yield Object(_.c)(M.updatePrimaryCategoryFailure(e))}}async function X(e){try{let t=await fetch(`${B}/primary_category/${e.cat_id}`,{credentials:"same-origin",method:"put",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*ee(){yield Object(_.d)(S.DELETE_PRIMARY_CATEGORY_REQUEST,te)}function*te(e){try{const t=yield Object(_.b)(ae,e.payload);200===t.status?yield Object(_.c)(M.deletePrimaryCategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.deletePrimaryCategoryFailure(t.message))}catch(e){yield Object(_.c)(M.deletePrimaryCategoryFailure(e))}}async function ae(e){try{let t=await fetch(`${B}/primary_category/${e}`,{credentials:"same-origin",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*re(){yield Object(_.d)(S.CREATE_SUBCATEGORY_REQUEST,se)}function*se(e){try{const t=yield Object(_.b)(ne,e.payload);200===t.status?yield Object(_.c)(M.createSubcategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.createSubcategoryFailure(t.message))}catch(e){yield Object(_.c)(M.createSubcategoryFailure(e))}}async function ne(e){try{let t=await fetch(`${B}/subcategory`,{credentials:"same-origin",method:"post",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*ie(){yield Object(_.d)(S.GET_SUBCATEGORY_REQUEST,le)}function*le(e){try{const t=yield Object(_.b)(ce,e.payload);200===t.status?yield Object(_.c)(M.getSubcategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.getSubcategoryFailure(t.message))}catch(e){yield Object(_.c)(M.getSubcategoryFailure(e))}}async function ce(e){try{let e=await fetch(`${B}/subcategory`,{credentials:"same-origin",method:"get",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),t=e.status;return{message:await e.json(),status:t}}catch(e){return e}}function*oe(){yield Object(_.d)(S.UPDATE_SUBCATEGORY_REQUEST,ue)}function*ue(e){try{const t=yield Object(_.b)(Ee,e.payload);200===t.status?yield Object(_.c)(M.updateSubcategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.updateSubcategoryFailure(t.message))}catch(e){yield Object(_.c)(M.updateSubcategoryFailure(e))}}async function Ee(e){try{let t=await fetch(`${B}/subcategory/${e.subcat_id}`,{credentials:"same-origin",method:"put",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}function*de(){yield Object(_.d)(S.DELETE_SUBCATEGORY_REQUEST,he)}function*he(e){try{const t=yield Object(_.b)(pe,e.payload);200===t.status?yield Object(_.c)(M.deleteSubcategorySuccess(t.message)):401===t.status?window.location.href="/":yield Object(_.c)(M.deleteSubcategoryFailure(t.message))}catch(e){yield Object(_.c)(M.deleteSubcategoryFailure(e))}}async function pe(e){try{let t=await fetch(`${B}/subcategory/${e}`,{credentials:"same-origin",method:"delete",headers:{Accept:"application/json","Content-Type":"application/json",Pragma:"no-cache","Cache-Control":"no-cache",Authorization:`${Q()}`}}),a=t.status;return{message:await t.json(),status:a}}catch(e){return e}}const me={status:"",error:"",primary_category:[],subcategory:[],insurance:[],service:{},listing:{},newEdit:[]},_e={loggedin:!1,authMessage:"",authError:"",loggedInUser:{},loadingSignIn:!1,loadingSignUp:!1,loadingSignOut:!1},Se={status:"",error:"",primary_category:[],subcategory:[]};var ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function ye(e=me,t){switch(t.type){case S.GET_PRIMARY_CATEGORY_REQUEST:return ge({},e,{status:S.GET_PRIMARY_CATEGORY_REQUEST});case S.GET_PRIMARY_CATEGORY_SUCCESS:return ge({},e,{status:S.GET_PRIMARY_CATEGORY_SUCCESS,primary_category:t.payload});case S.GET_PRIMARY_CATEGORY_FAILURE:return ge({},e,{status:S.GET_PRIMARY_CATEGORY_FAILURE,error:t.payload});case S.GET_SUBCATEGORY_REQUEST:return ge({},e,{status:S.GET_SUBCATEGORY_REQUEST});case S.GET_SUBCATEGORY_SUCCESS:return ge({},e,{status:S.GET_SUBCATEGORY_SUCCESS,subcategory:t.payload});case S.GET_SUBCATEGORY_FAILURE:return ge({},e,{status:S.GET_SUBCATEGORY_FAILURE,error:t.payload});case S.GET_INSURANCE_REQUEST:return ge({},e,{status:S.GET_INSURANCE_REQUEST});case S.GET_INSURANCE_SUCCESS:return ge({},e,{status:S.GET_INSURANCE_SUCCESS,insurance:t.payload});case S.GET_INSURANCE_FAILURE:return ge({},e,{status:S.GET_INSURANCE_FAILURE,error:t.payload});case S.CREATE_SERVICE_REQUEST:return ge({},e,{status:S.CREATE_SERVICE_REQUEST});case S.CREATE_SERVICE_SUCCESS:return ge({},e,{status:S.CREATE_SERVICE_SUCCESS,service:t.payload});case S.CREATE_SERVICE_FAILURE:return ge({},e,{status:S.CREATE_SERVICE_FAILURE,error:t.payload});case S.GET_SERVICE_REQUEST:return ge({},e,{status:S.GET_SERVICE_REQUEST});case S.GET_SERVICE_SUCCESS:return ge({},e,{status:S.GET_SERVICE_SUCCESS,listing:t.payload});case S.GET_SERVICE_FAILURE:return ge({},e,{status:S.GET_SERVICE_FAILURE,error:t.payload});case S.EDIT_SERVICE_REQUEST:return ge({},e,{status:S.EDIT_SERVICE_REQUEST});case S.EDIT_SERVICE_SUCCESS:return ge({},e,{status:S.EDIT_SERVICE_SUCCESS,newEdit:t.payload});case S.EDIT_SERVICE_FAILURE:return ge({},e,{status:S.EDIT_SERVICE_FAILURE,error:t.payload});default:return e}}var Re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function Ce(e=_e,t){switch(t.type){case S.SIGN_OUT_REQUEST:return Re({},e,{loadingSignOut:!0,authMessage:S.SIGN_OUT_REQUEST});case S.SIGN_OUT_SUCCESS:return Re({},e,{authMessage:S.SIGN_OUT_SUCCESS});case S.SIGN_OUT_FAILURE:return Re({},e,{loadingSignOut:!1,authMessage:t.error});case S.SIGN_IN_REQUEST:return Re({},e,{loadingSignIn:!0,authMessage:S.SIGN_IN_REQUEST});case S.SIGN_IN_SUCCESS:return Re({},e,{loggedin:!0,authMessage:S.SIGN_IN_SUCCESS,loadingSignIn:!1,loggedInUser:t.payload});case S.SIGN_IN_FAILURE:return Re({},e,{authError:t.error,authMessage:S.SIGN_IN_FAILURE,loadingSignIn:!1});default:return e}}var Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function Ae(e=Se,t){switch(t.type){case S.CREATE_PRIMARY_CATEGORY_REQUEST:return Te({},e,{status:S.CREATE_PRIMARY_CATEGORY_REQUEST});case S.CREATE_PRIMARY_CATEGORY_SUCCESS:return Te({},e,{status:S.CREATE_PRIMARY_CATEGORY_SUCCESS,primary_category:e.primary_category.concat(t.payload)});case S.CREATE_PRIMARY_CATEGORY_FAILURE:return Te({},e,{status:S.CREATE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case S.GET_PRIMARY_CATEGORY_REQUEST:return Te({},e,{status:S.GET_PRIMARY_CATEGORY_REQUEST});case S.GET_PRIMARY_CATEGORY_SUCCESS:return Te({},e,{status:S.GET_PRIMARY_CATEGORY_SUCCESS,primary_category:t.payload});case S.GET_PRIMARY_CATEGORY_FAILURE:return Te({},e,{status:S.GET_PRIMARY_CATEGORY_FAILURE,error:t.payload});case S.UPDATE_PRIMARY_CATEGORY_REQUEST:return Te({},e,{status:S.CREATE_PRIMARY_CATEGORY_REQUEST});case S.UPDATE_PRIMARY_CATEGORY_SUCCESS:var a=e.primary_category,r=a.findIndex(e=>e.cat_id===t.payload.cat_id);return a[r]=t.payload,Te({},e,{status:S.UPDATE_PRIMARY_CATEGORY_SUCCESS,primary_category:a});case S.UPDATE_PRIMARY_CATEGORY_FAILURE:return Te({},e,{status:S.UPDATE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case S.DELETE_PRIMARY_CATEGORY_REQUEST:return Te({},e,{status:S.DELETE_PRIMARY_CATEGORY_REQUEST});case S.DELETE_PRIMARY_CATEGORY_SUCCESS:return a=e.primary_category.filter(e=>e.cat_id!==t.payload.cat_id),Te({},e,{status:S.DELETE_PRIMARY_CATEGORY_SUCCESS,primary_category:a});case S.DELETE_PRIMARY_CATEGORY_FAILURE:return Te({},e,{status:S.DELETE_PRIMARY_CATEGORY_FAILURE,error:t.payload});case S.CREATE_SUBCATEGORY_REQUEST:return Te({},e,{status:S.CREATE_SUBCATEGORY_REQUEST});case S.CREATE_SUBCATEGORY_SUCCESS:return Te({},e,{status:S.CREATE_SUBCATEGORY_SUCCESS,subcategory:e.subcategory.concat(t.payload)});case S.CREATE_SUBCATEGORY_FAILURE:return Te({},e,{status:S.CREATE_SUBCATEGORY_FAILURE,error:t.payload});case S.GET_SUBCATEGORY_REQUEST:return Te({},e,{status:S.GET_SUBCATEGORY_REQUEST});case S.GET_SUBCATEGORY_SUCCESS:return Te({},e,{status:S.GET_SUBCATEGORY_SUCCESS,subcategory:t.payload});case S.GET_SUBCATEGORY_FAILURE:return Te({},e,{status:S.GET_SUBCATEGORY_FAILURE,error:t.payload});case S.UPDATE_SUBCATEGORY_REQUEST:return Te({},e,{status:S.CREATE_SUBCATEGORY_REQUEST});case S.UPDATE_SUBCATEGORY_SUCCESS:var s=e.subcategory;r=s.findIndex(e=>e.subcat_id===t.payload.subcat_id);return s[r]=t.payload,Te({},e,{status:S.UPDATE_SUBCATEGORY_SUCCESS,subcategory:s});case S.UPDATE_SUBCATEGORY_FAILURE:return Te({},e,{status:S.UPDATE_SUBCATEGORY_FAILURE,error:t.payload});case S.DELETE_SUBCATEGORY_REQUEST:return Te({},e,{status:S.DELETE_SUBCATEGORY_REQUEST});case S.DELETE_SUBCATEGORY_SUCCESS:return s=e.subcategory.filter(e=>e.subcat_id!==t.payload.subcat_id),Te({},e,{status:S.DELETE_SUBCATEGORY_SUCCESS,subcategory:s});case S.DELETE_SUBCATEGORY_FAILURE:return Te({},e,{status:S.DELETE_SUBCATEGORY_FAILURE,error:t.payload});default:return e}}var Ie=a(329),be=a.n(Ie),fe=(a(90),a(11)),Ue=(a(78),a(16)),ve=(a(134),a(12));a(403);class Oe extends l.a.Component{constructor(e){super(e),this.handleSubmit=e=>{e.preventDefault(),this.props.form.validateFields((e,t)=>{if(!e){const{dispatch:e}=this.props,a={email:t.email,password:t.password};e(Y.signInRequest(a))}})}}componentDidUpdate(e){this.props.loggedin!=e.loggedin&&1==this.props.loggedin&&(window.location.href="/home"),this.props.authMessage!==e.authMessage&&this.props.authMessage===S.SIGN_IN_FAILURE&&alert(this.props.authError)}render(){const{getFieldDecorator:e}=this.props.form;return l.a.createElement("div",null,l.a.createElement(fe.a,{onSubmit:this.handleSubmit,className:"login-form"},l.a.createElement("h1",null,"Admin Login"),l.a.createElement(fe.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your email!"}]})(l.a.createElement(Ue.a,{prefix:l.a.createElement(ve.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email"}))),l.a.createElement(fe.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(l.a.createElement(Ue.a,{prefix:l.a.createElement(ve.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),l.a.createElement(fe.a.Item,null,l.a.createElement(s.a,{type:"primary",htmlType:"submit",className:"login-form-button",loading:this.props.loadingSignIn},"Log in"))))}}const je=fe.a.create()(Oe);var Ge=Object(u.f)(Object(p.c)((function(e){const{authMessage:t,loadingSignIn:a,loggedin:r,authError:s}=e.auth;return{loadingSignIn:a,loggedin:r,authMessage:t,authError:s}}))(je)),we=a(55),Ye=(a(579),a(330)),Pe=(a(301),a(58)),Fe=(a(488),a(152)),Ne=a(4),Le=a.n(Ne);a(491);const{Panel:De}=Fe.a;class xe extends l.a.Component{constructor(e){super(e)}componentDidMount(){}render(){const{listing:e,primary_category:t,subcategory:a,insurance:r}=this.props;let n=r.find(t=>t.insur_id===e.insur_id),i=t.find(t=>t.cat_id===e.primary_cat_id),c=a.find(t=>t.subcat_id===e.sub_cat_id);return l.a.createElement(Pe.a,null,l.a.createElement(Ye.a,null,l.a.createElement(Fe.a,{bordered:!1},l.a.createElement(De,{header:e.name,style:{border:0}},l.a.createElement(Pe.a,null,l.a.createElement(we.a,{to:`/editService/${e.service_id}`},l.a.createElement(s.a,null,"Modify Service"))),l.a.createElement(Pe.a,{className:"last_modified"},"Last Modified Date: ",Le()(e.last_verified,"YYYY-MM-DDTHH:mm:ss.sssZ").format("LLLL")),l.a.createElement("table",null,l.a.createElement("tbody",null,l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Service ID:"),l.a.createElement("td",null,e.service_id)),l.a.createElement("tr",null,l.a.createElement("td",null,"Service Name:"),l.a.createElement("td",null,e.name)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Primary Category:"),l.a.createElement("td",null,i?i.cat_name:"")),l.a.createElement("tr",null,l.a.createElement("td",null,"Subcategory:"),l.a.createElement("td",null,c?c.subcat_name:"")),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Insurance:"),l.a.createElement("td",null,n?n.insur_name:"")),l.a.createElement("tr",null,l.a.createElement("td",null,"Languages Spoken:"),l.a.createElement("td",null,e.languages_spoken)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Address:"),l.a.createElement("td",null,e.adress)),l.a.createElement("tr",null,l.a.createElement("td",null,"Latitude:"),l.a.createElement("td",null,e.lat)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Longitude:"),l.a.createElement("td",null,e.lon)),l.a.createElement("tr",null,l.a.createElement("td",null,"Transit:"),l.a.createElement("td",null,e.transit)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Website:"),l.a.createElement("td",null,e.website)),l.a.createElement("tr",null,l.a.createElement("td",null,"Phone Number:"),l.a.createElement("td",null,e.phone_num)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Emergency Number:"),l.a.createElement("td",null,e.emergency_num)),l.a.createElement("tr",null,l.a.createElement("td",null,"Drop In:"),l.a.createElement("td",null,e.drop_in)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Services:"),l.a.createElement("td",null,e.services)),l.a.createElement("tr",null,l.a.createElement("td",null,"Services (FR):"),l.a.createElement("td",null,e.services_fr)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Notes:"),l.a.createElement("td",null,e.notes)),l.a.createElement("tr",null,l.a.createElement("td",null,"Notes (FR):"),l.a.createElement("td",null,e.notes_fr)),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Verified By:"),l.a.createElement("td",null,e.verified_by)),l.a.createElement("tr",null,l.a.createElement("td",null,"Business Hours(Monday):"),l.a.createElement("td",null,e.hours[1])),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Business Hours(Tuesday):"),l.a.createElement("td",null,e.hours[2])),l.a.createElement("tr",null,l.a.createElement("td",null,"Business Hours(Wednesday):"),l.a.createElement("td",null,e.hours[3])),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Business Hours(Thursday):"),l.a.createElement("td",null,e.hours[4])),l.a.createElement("tr",null,l.a.createElement("td",null,"Business Hours(Friday):"),l.a.createElement("td",null,e.hours[5])),l.a.createElement("tr",{className:"light-row"},l.a.createElement("td",null,"Business Hours(Saturday):"),l.a.createElement("td",null,e.hours[6])),l.a.createElement("tr",null,l.a.createElement("td",null,"Business Hours(Sunday):"),l.a.createElement("td",null,e.hours[0]))))))))}}var ke=Object(u.f)(Object(p.c)(e=>{const{primary_category:t,subcategory:a,insurance:r}=e.serviceReducer;return{primary_category:t,subcategory:a,insurance:r}})(xe));const{Search:Ve}=Ue.a;class Me extends l.a.Component{constructor(e){super(e),this.state={filter:""}}componentDidMount(){this.props.dispatch(g.getServiceRequest()),this.props.dispatch(M.getPrimaryCategoryRequest()),this.props.dispatch(M.getSubcategoryRequest()),this.props.dispatch(g.getInsuranceRequest())}render(){return l.a.createElement("div",{className:"Card_Container"},l.a.createElement(Ve,{placeholder:"search service",onChange:e=>{this.setState({filter:e.target.value}),console.log(e.target.value)},className:"search-bar"}),this.props.listing.length>0&&this.props.listing.map((e,t)=>{if(this.props.listing[t].name){let a=this.state.filter.toLowerCase();if(this.props.listing[t].name.toLowerCase().indexOf(a)>-1)return l.a.createElement(ke,{listing:e,key:t})}}))}}var Be=Object(p.c)(e=>{const{listing:t,primary_category:a,subcategory:r,insurance:s}=e.serviceReducer;return{listing:t,primary_category:a,subcategory:r,insurance:s}})(Me);a(143);class Qe extends l.a.Component{constructor(e){super(e)}componentDidUpdate(e){this.props.loggedin!=e.loggedin&&1==this.props.loggedin&&(window.location.href="/home")}render(){return l.a.createElement("div",{className:"home-wrapper"},l.a.createElement("div",{className:"newService"},l.a.createElement(we.a,{to:"/newService"},l.a.createElement(s.a,null,"Create New Service")),l.a.createElement(we.a,{to:"/category"},l.a.createElement(s.a,null,"Manage Primary Categories")),l.a.createElement(we.a,{to:"/subcategory"},l.a.createElement(s.a,null,"Manage Subcategories"))),l.a.createElement(Be,null))}}var He=Object(u.f)(Object(p.c)(e=>{const{loggedInUser:t}=e.auth;return{loggedInUser:t}})(Qe)),qe=(a(302),a(84)),ze=(a(303),a(43)),$e=(a(107),a(37));a(504);const{Option:Je}=$e.a,{TextArea:We}=Ue.a,Ze=Ue.a.Group;class Ke extends l.a.Component{constructor(e){super(e),this.handleClose=(e,t)=>{const a=this.state.tags[t].filter(t=>t!==e);let{tags:r}=this.state;r[t]=a,this.setState({tags:r})},this.showInput=e=>{let{inputVisible:t}=this.state;t[e]=!0;let a="input"+e;this.setState({inputVisible:t},()=>this[a].focus())},this.handleInputChange=(e,t)=>{let{inputValue:a}=this.state;a[t]=e.target.value,this.setState({inputValue:a})},this.handleInputConfirm=e=>{let{tags:t,inputValue:a,inputVisible:r}=this.state;a[e]&&-1===t[e].indexOf(a[e])&&(t[e]=[...t[e],a[e]]),r[e]=!1,a[e]="",this.setState({tags:t,inputVisible:r,inputValue:a})},this.saveInputRefLang=e=>this.inputlang=e,this.saveInputRefServices=e=>this.inputservices=e,this.saveInputRefServicesFr=e=>this.inputservicesFr=e,this.handleSubmit=e=>{e.preventDefault(),this.props.form.validateFields((e,t)=>{if(!e){let e="{";if(!(this.getHours(t.hours_sun)&&this.getHours(t.hours_mon)&&this.getHours(t.hours_tue)&&this.getHours(t.hours_wed)&&this.getHours(t.hours_thu)&&this.getHours(t.hours_fri)&&this.getHours(t.hours_sat)))return alert("Business hours must follow the format HH:mm-HH:mm");e+=this.getHours(t.hours_sun,!1),e+=this.getHours(t.hours_mon,!1),e+=this.getHours(t.hours_tue,!1),e+=this.getHours(t.hours_wed,!1),e+=this.getHours(t.hours_thu,!1),e+=this.getHours(t.hours_fri,!1),e+=this.getHours(t.hours_sat,!0),e+="}",t.hours=e;let a=this.state.tags.lang.join(","),r=this.state.tags.services.join(","),s=this.state.tags.servicesFr.join(",");t.languages_spoken=a,t.services=r,t.services_fr=s,this.props.dispatch(g.createServiceRequest(t))}})},this.state={tags:{lang:[],services:[],servicesFr:[]},inputVisible:{lang:!1,services:!1,servicesFr:!1},inputValue:{lang:"",services:"",servicesFr:""}}}componentDidMount(){this.props.dispatch(M.getPrimaryCategoryRequest()),this.props.dispatch(M.getSubcategoryRequest()),this.props.dispatch(g.getInsuranceRequest())}componentDidUpdate(e){e.status!==this.props.status&&this.props.status===S.CREATE_SERVICE_FAILURE&&alert(this.props.error.detail?this.props.error.detail:this.props.error),e.status!==this.props.status&&this.props.status===S.CREATE_SERVICE_SUCCESS&&(alert("Service created successfully"),window.location.href="/home")}parseTime(e){if(!e)return!0;let t=e.split("-");if(2!==t.length)return!1;let a=t[0].split(":");if(2!==a.length||isNaN(a[0])||isNaN(a[1]))return!1;let r=t[1].split(":");return 2===r.length&&!isNaN(r[0])&&!isNaN(r[1])}getHours(e,t){return e?!!this.parseTime(e)&&(t?`{${e}}`:`{${e}},`):t?"{NA}":"{NA},"}render(){const{getFieldDecorator:e}=this.props.form,{tags:t,inputVisible:a,inputValue:r}=this.state;return l.a.createElement("div",{className:"service-form-wrapper"},l.a.createElement("h1",null,"Create a new service"),l.a.createElement(fe.a,{onSubmit:this.handleSubmit},l.a.createElement(fe.a.Item,{label:"Service Name"},e("name",{})(l.a.createElement(Ue.a,{placeholder:"eg. CLSC du Parc"}))),l.a.createElement(fe.a.Item,{label:"Primary category"},e("primary_cat_id",{})(l.a.createElement($e.a,{placeholder:"Select"},this.props.primary_category.map((e,t)=>l.a.createElement(Je,{key:t,value:e.cat_id},e.cat_name))))),l.a.createElement(fe.a.Item,{label:"Subcategory"},e("sub_cat_id",{})(l.a.createElement($e.a,{placeholder:"Select"},this.props.subcategory.map((e,t)=>l.a.createElement(Je,{key:t,value:e.subcat_id},e.subcat_name))))),l.a.createElement(fe.a.Item,{label:"Insurance"},e("insur_id",{})(l.a.createElement($e.a,{placeholder:"Select"},this.props.insurance.map((e,t)=>l.a.createElement(Je,{key:t,value:e.insur_id},e.insur_name))))),l.a.createElement(fe.a.Item,{label:"Languages Spoken"},l.a.createElement("div",null,t.lang.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"lang")},e)}),a.lang&&l.a.createElement(Ue.a,{ref:this.saveInputRefLang,type:"text",size:"small",style:{width:78},value:r.lang,onChange:e=>this.handleInputChange(e,"lang"),onBlur:()=>this.handleInputConfirm("lang"),onPressEnter:()=>this.handleInputConfirm("lang")}),!a.lang&&l.a.createElement(ze.a,{onClick:()=>this.showInput("lang"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Language"))),l.a.createElement(fe.a.Item,{label:"Address"},e("address",{})(l.a.createElement(Ue.a,{placeholder:"eg. 123 Avenue du Parc"}))),l.a.createElement(fe.a.Item,{label:"Latitude"},e("lat",{})(l.a.createElement(qe.a,{style:{width:"100%"},placeholder:"eg. 45.23424"}))),l.a.createElement(fe.a.Item,{label:"Longitude"},e("lon",{})(l.a.createElement(qe.a,{style:{width:"100%"},placeholder:"eg. -73.34535"}))),l.a.createElement(fe.a.Item,{label:"Transit"},e("transit",{})(l.a.createElement(Ue.a,{placeholder:"eg. Yes, near Place des Arts"}))),l.a.createElement(fe.a.Item,{label:"Website"},e("website",{})(l.a.createElement(Ue.a,{placeholder:"eg. www.example.com"}))),l.a.createElement(fe.a.Item,{label:"Phone number"},e("phone_num",{})(l.a.createElement(Ue.a,{placeholder:"eg. 514-555-4444"}))),l.a.createElement(fe.a.Item,{label:"Emergency Number"},e("emergency_num",{})(l.a.createElement(Ue.a,{placeholder:"eg. 514-555-4444"}))),l.a.createElement(fe.a.Item,{label:"Drop In"},e("drop_in",{})(l.a.createElement(Ue.a,{placeholder:"eg. Yes"}))),l.a.createElement(fe.a.Item,{label:"Services"},l.a.createElement("div",null,t.services.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"services")},e)}),a.services&&l.a.createElement(Ue.a,{ref:this.saveInputRefServices,type:"text",size:"small",style:{width:78},value:r.services,onChange:e=>this.handleInputChange(e,"services"),onBlur:()=>this.handleInputConfirm("services"),onPressEnter:()=>this.handleInputConfirm("services")}),!a.services&&l.a.createElement(ze.a,{onClick:()=>this.showInput("services"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Service"))),l.a.createElement(fe.a.Item,{label:"Services (FR)"},l.a.createElement("div",null,t.servicesFr.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"servicesFr")},e)}),a.servicesFr&&l.a.createElement(Ue.a,{ref:this.saveInputRefServicesFr,type:"text",size:"small",style:{width:120},value:r.servicesFr,onChange:e=>this.handleInputChange(e,"servicesFr"),onBlur:()=>this.handleInputConfirm("servicesFr"),onPressEnter:()=>this.handleInputConfirm("servicesFr")}),!a.servicesFr&&l.a.createElement(ze.a,{onClick:()=>this.showInput("servicesFr"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Service (FR)"))),l.a.createElement(fe.a.Item,{label:"Notes"},e("notes",{})(l.a.createElement(We,{rows:10,placeholder:""}))),l.a.createElement(fe.a.Item,{label:"Notes (FR)"},e("notes_fr",{})(l.a.createElement(We,{rows:10,placeholder:""}))),l.a.createElement(fe.a.Item,{label:"Verified by"},e("verified_by",{})(l.a.createElement(Ue.a,{placeholder:""}))),"Business Hours:",l.a.createElement(Ze,{compact:!0},l.a.createElement(fe.a.Item,null,e("hours_sun",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Sun"}))),l.a.createElement(fe.a.Item,null,e("hours_mon",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Mon"}))),l.a.createElement(fe.a.Item,null,e("hours_tue",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Tue"}))),l.a.createElement(fe.a.Item,null,e("hours_wed",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Wed"}))),l.a.createElement(fe.a.Item,null,e("hours_thu",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Thu"}))),l.a.createElement(fe.a.Item,null,e("hours_fri",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Fri"}))),l.a.createElement(fe.a.Item,null,e("hours_sat",{})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Sat"})))),l.a.createElement(fe.a.Item,null,l.a.createElement(s.a,{type:"primary",htmlType:"submit"},"Create Service"))))}}const Xe=fe.a.create()(Ke);var et=Object(u.f)(Object(p.c)(e=>{const{loggedInUser:t}=e.auth,{status:a,error:r,primary_category:s,subcategory:n,insurance:i}=e.serviceReducer;return{status:a,error:r,primary_category:s,subcategory:n,insurance:i,loggedInUser:t}})(Xe));a(514);const{Option:tt}=$e.a,{TextArea:at}=Ue.a,rt=Ue.a.Group;class st extends l.a.Component{constructor(e){super(e),this.handleClose=(e,t)=>{const a=this.state.tags[t].filter(t=>t!==e);let{tags:r}=this.state;r[t]=a,this.setState({tags:r})},this.showInput=e=>{let{inputVisible:t}=this.state;t[e]=!0;let a="input"+e;this.setState({inputVisible:t},()=>this[a].focus())},this.handleInputChange=(e,t)=>{let{inputValue:a}=this.state;a[t]=e.target.value,this.setState({inputValue:a})},this.handleInputConfirm=e=>{let{tags:t,inputValue:a,inputVisible:r}=this.state;a[e]&&-1===t[e].indexOf(a[e])&&(t[e]=[...t[e],a[e]]),r[e]=!1,a[e]="",this.setState({tags:t,inputVisible:r,inputValue:a})},this.saveInputRefLang=e=>this.inputlang=e,this.saveInputRefServices=e=>this.inputservices=e,this.saveInputRefServicesFr=e=>this.inputservicesFr=e,this.handleSubmit=e=>{e.preventDefault(),this.props.form.validateFields((e,t)=>{if(!e){let e="{";if(Array.isArray(t.hours_sun)&&(t.hours_sun=t.hours_sun[0]),Array.isArray(t.hours_mon)&&(t.hours_mon=t.hours_mon[0]),Array.isArray(t.hours_tue)&&(t.hours_tue=t.hours_tue[0]),Array.isArray(t.hours_wed)&&(t.hours_wed=t.hours_wed[0]),Array.isArray(t.hours_thu)&&(t.hours_thu=t.hours_thu[0]),Array.isArray(t.hours_fri)&&(t.hours_fri=t.hours_fri[0]),Array.isArray(t.hours_sat)&&(t.hours_sat=t.hours_sat[0]),!(this.getHours(t.hours_sun)&&this.getHours(t.hours_mon)&&this.getHours(t.hours_tue)&&this.getHours(t.hours_wed)&&this.getHours(t.hours_thu)&&this.getHours(t.hours_fri)&&this.getHours(t.hours_sat)))return alert("Business hours must follow the format HH:mm-HH:mm");e+=this.getHours(t.hours_sun,!1),e+=this.getHours(t.hours_mon,!1),e+=this.getHours(t.hours_tue,!1),e+=this.getHours(t.hours_wed,!1),e+=this.getHours(t.hours_thu,!1),e+=this.getHours(t.hours_fri,!1),e+=this.getHours(t.hours_sat,!0),e+="}",t.hours=e;let a=this.state.tags.lang.join(","),r=this.state.tags.services.join(","),s=this.state.tags.servicesFr.join(",");t.languages_spoken=a,t.services=r,t.services_fr=s;const{service_id:n}=this.props.match.params;this.props.dispatch(g.editServiceRequest({values:t,serviceId:n}))}})},this.state={tags:{lang:[],services:[],servicesFr:[]},inputVisible:{lang:!1,services:!1,servicesFr:!1},inputValue:{lang:"",services:"",servicesFr:""}}}componentDidMount(){const{listing:e}=this.props,{service_id:t}=this.props.match.params;let a=[];for(var r=0;r<e.length;r++)e[r].service_id==t&&a.push(e[r]);const s=a[0],n=s.languages_spoken?s.languages_spoken.split(","):[],i=s.services?s.services.split(","):[],l=s.services_fr?s.services_fr.split(","):[];this.setState({tags:{lang:n,services:i,servicesFr:l}})}componentDidUpdate(e,t){e.status!==this.props.status&&this.props.status===S.EDIT_SERVICE_FAILURE&&alert("ERROR SAVING"),e.status!==this.props.status&&this.props.status===S.EDIT_SERVICE_SUCCESS&&(alert("Service modified successfully"),window.location.href="/home")}parseTime(e){if("NA"!=e){if(!e)return!0;let t=e.split("-");if(2!==t.length)return!1;let a=t[0].split(":");if(2!==a.length||isNaN(a[0])||isNaN(a[1]))return!1;let r=t[1].split(":");return 2===r.length&&!isNaN(r[0])&&!isNaN(r[1])}}getHours(e,t){return e?!!this.parseTime(e)&&(t?`{${e}}`:`{${e}},`):t?"{NA}":"{NA},"}render(){const{getFieldDecorator:e}=this.props.form,{tags:t,inputVisible:a,inputValue:r}=this.state,{listing:n}=this.props,{service_id:i}=this.props.match.params;let c=[];for(var o=0;o<n.length;o++)n[o].service_id==i&&c.push(n[o]);const u=c[0];return l.a.createElement("div",{className:"service-form-wrapper"},l.a.createElement("h1",null,"Edit Service"),l.a.createElement(fe.a,{onSubmit:this.handleSubmit},l.a.createElement(fe.a.Item,{label:"Service Name"},e("name",{initialValue:u.name})(l.a.createElement(Ue.a,{style:{width:"100%"}}))),l.a.createElement(fe.a.Item,{label:"Primary category"},e("primary_cat_id",{initialValue:u.primary_cat_id})(l.a.createElement($e.a,{placeholder:"Select"},this.props.primary_category.map((e,t)=>l.a.createElement(tt,{key:t,value:e.cat_id},e.cat_name))))),l.a.createElement(fe.a.Item,{label:"Subcategory"},e("sub_cat_id",{initialValue:u.sub_cat_id})(l.a.createElement($e.a,{placeholder:"Select"},this.props.subcategory.map((e,t)=>l.a.createElement(tt,{key:t,value:e.subcat_id},e.subcat_name))))),l.a.createElement(fe.a.Item,{label:"Insurance"},e("insur_id",{initialValue:u.insur_id})(l.a.createElement($e.a,{placeholder:"Select"},this.props.insurance.map((e,t)=>l.a.createElement(tt,{key:t,value:e.insur_id},e.insur_name))))),l.a.createElement(fe.a.Item,{label:"Languages Spoken"},l.a.createElement("div",null,t.lang.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"lang")},e)}),a.lang&&l.a.createElement(Ue.a,{ref:this.saveInputRefLang,type:"text",size:"small",style:{width:78},value:r.lang,onChange:e=>this.handleInputChange(e,"lang"),onBlur:()=>this.handleInputConfirm("lang"),onPressEnter:()=>this.handleInputConfirm("lang")}),!a.lang&&l.a.createElement(ze.a,{onClick:()=>this.showInput("lang"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Language"))),l.a.createElement(fe.a.Item,{label:"Address"},e("address",{initialValue:u.address})(l.a.createElement(Ue.a,{placeholder:"eg. 123 Avenue du Parc"}))),l.a.createElement(fe.a.Item,{label:"Latitude"},e("lat",{initialValue:u.lat})(l.a.createElement(qe.a,{style:{width:"100%"},placeholder:"eg. 45.23424"}))),l.a.createElement(fe.a.Item,{label:"Longitude"},e("lon",{initialValue:u.lon})(l.a.createElement(qe.a,{style:{width:"100%"},placeholder:"eg. -73.34535"}))),l.a.createElement(fe.a.Item,{label:"Transit"},e("transit",{initialValue:u.transit})(l.a.createElement(Ue.a,{placeholder:"eg. Yes, near Place des Arts"}))),l.a.createElement(fe.a.Item,{label:"Website"},e("website",{initialValue:u.website})(l.a.createElement(Ue.a,{placeholder:"eg. www.example.com"}))),l.a.createElement(fe.a.Item,{label:"Phone number"},e("phone_num",{initialValue:u.phone_num})(l.a.createElement(Ue.a,{placeholder:"eg. 514-555-4444"}))),l.a.createElement(fe.a.Item,{label:"Emergency Number"},e("emergency_num",{initialValue:u.emergency_num})(l.a.createElement(Ue.a,{placeholder:"eg. 514-555-4444"}))),l.a.createElement(fe.a.Item,{label:"Drop In"},e("drop_in",{initialValue:u.drop_in})(l.a.createElement(Ue.a,{placeholder:"eg. Yes"}))),l.a.createElement(fe.a.Item,{label:"Services"},l.a.createElement("div",null,t.services.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"services")},e)}),a.services&&l.a.createElement(Ue.a,{ref:this.saveInputRefServices,type:"text",size:"small",style:{width:78},value:r.services,onChange:e=>this.handleInputChange(e,"services"),onBlur:()=>this.handleInputConfirm("services"),onPressEnter:()=>this.handleInputConfirm("services")}),!a.services&&l.a.createElement(ze.a,{onClick:()=>this.showInput("services"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Service"))),l.a.createElement(fe.a.Item,{label:"Services (FR)"},l.a.createElement("div",null,t.servicesFr.map((e,t)=>{return l.a.createElement(ze.a,{key:e,closable:!0,onClose:()=>this.handleClose(e,"servicesFr")},e)}),a.servicesFr&&l.a.createElement(Ue.a,{ref:this.saveInputRefServicesFr,type:"text",size:"small",style:{width:120},value:r.servicesFr,onChange:e=>this.handleInputChange(e,"servicesFr"),onBlur:()=>this.handleInputConfirm("servicesFr"),onPressEnter:()=>this.handleInputConfirm("servicesFr")}),!a.servicesFr&&l.a.createElement(ze.a,{onClick:()=>this.showInput("servicesFr"),style:{background:"#fff",borderStyle:"dashed"}},l.a.createElement(ve.a,{type:"plus"})," Add Service (FR)"))),l.a.createElement(fe.a.Item,{label:"Notes"},e("notes",{initialValue:u.notes})(l.a.createElement(at,{rows:10,placeholder:""}))),l.a.createElement(fe.a.Item,{label:"Notes (FR)"},e("notes_fr",{initialValue:u.notes_fr})(l.a.createElement(at,{rows:10,placeholder:""}))),l.a.createElement(fe.a.Item,{label:"Verified by"},e("verified_by",{initialValue:u.verified_by})(l.a.createElement(Ue.a,{placeholder:""}))),"Business Hours:",l.a.createElement(rt,{compact:!0},l.a.createElement(fe.a.Item,null,e("hours_sun",{initialValue:"NA"==u.hours[0]?"":u.hours[0]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Sun"}))),l.a.createElement(fe.a.Item,null,e("hours_mon",{initialValue:"NA"==u.hours[1]?"":u.hours[1]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Mon"}))),l.a.createElement(fe.a.Item,null,e("hours_tue",{initialValue:"NA"==u.hours[2]?"":u.hours[2]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Tue"}))),l.a.createElement(fe.a.Item,null,e("hours_wed",{initialValue:"NA"==u.hours[3]?"":u.hours[3]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Wed"}))),l.a.createElement(fe.a.Item,null,e("hours_thu",{initialValue:"NA"==u.hours[4]?"":u.hours[4]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Thu"}))),l.a.createElement(fe.a.Item,null,e("hours_fri",{initialValue:"NA"==u.hours[5]?"":u.hours[5]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Fri"}))),l.a.createElement(fe.a.Item,null,e("hours_sat",{initialValue:"NA"==u.hours[6]?"":u.hours[6]})(l.a.createElement(Ue.a,{style:{width:150},placeholder:"Sat"})))),l.a.createElement(fe.a.Item,{className:"cancel-button"},l.a.createElement(s.a,{onClick:()=>window.history.back()},"Cancel")),l.a.createElement(fe.a.Item,{className:"button"},l.a.createElement(s.a,{type:"primary",htmlType:"submit"},"Submit"))))}}const nt=fe.a.create()(st);var it=Object(u.f)(Object(p.c)(e=>{const{listing:t,primary_category:a,subcategory:r,insurance:s,newEdit:n,status:i}=e.serviceReducer,{loggedInUser:l}=e.auth;return{listing:t,primary_category:a,subcategory:r,insurance:s,loggedInUser:l,newEdit:n,status:i}})(nt)),lt=(a(316),a(116)),ct=(a(317),a(115)),ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function ut(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}const Et=l.a.createContext(),dt=fe.a.create()(e=>{let{form:t,index:a}=e,r=ut(e,["form","index"]);return l.a.createElement(Et.Provider,{value:t},l.a.createElement("tr",r))});class ht extends l.a.Component{constructor(...e){var t;return t=super(...e),this.state={editing:!1},this.toggleEdit=()=>{const e=!this.state.editing;this.setState({editing:e},()=>{e&&this.input.focus()})},this.save=e=>{const{record:t,handleSave:a}=this.props;this.form.validateFields((r,s)=>{r&&r[e.currentTarget.id]||(this.toggleEdit(),a(ot({},t,s)))})},this.renderCell=e=>{this.form=e;const{children:t,dataIndex:a,record:r,title:s}=this.props,{editing:n}=this.state;return n?l.a.createElement(fe.a.Item,{style:{margin:0}},e.getFieldDecorator(a,{rules:[{required:!0,message:`${s} is required.`}],initialValue:r[a]})(l.a.createElement(Ue.a,{ref:e=>this.input=e,onPressEnter:this.save,onBlur:this.save}))):l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:this.toggleEdit},t)},t}render(){const e=this.props,{editable:t,dataIndex:a,title:r,record:s,index:n,handleSave:i,children:c}=e,o=ut(e,["editable","dataIndex","title","record","index","handleSave","children"]);return l.a.createElement("td",o,t?l.a.createElement(Et.Consumer,null,this.renderCell):c)}}class pt extends l.a.Component{constructor(e){super(e),this.handleDelete=e=>{const t=[...this.state.dataSource];this.setState({dataSource:t.filter(t=>t.cat_id!==e)}),this.props.dispatch(M.deletePrimaryCategoryRequest(e))},this.handleAdd=()=>{const{count:e,dataSource:t}=this.state,a={key:e,cat_id:"",cat_name:""};this.setState({dataSource:[...t,a],count:e+1,adding:!0})},this.handleSave=e=>{const t=[...this.state.dataSource],a=t.findIndex(t=>e.key===t.key),r=t[a];t.splice(a,1,ot({},r,e)),this.state.adding?this.props.dispatch(M.createPrimaryCategoryRequest(e)):this.props.dispatch(M.updatePrimaryCategoryRequest(e)),this.setState({dataSource:t,adding:!1})},this.columns=[{title:"Category ID",dataIndex:"cat_id",width:"20%",editable:!1},{title:"Category Name",dataIndex:"cat_name",editable:!0},{title:"Action",dataIndex:"action",width:"20%",render:(e,t)=>this.state.dataSource.length>=1?l.a.createElement(ct.a,{title:"Are you sure you want to delete?",onConfirm:()=>this.handleDelete(t.cat_id)},l.a.createElement("a",null,"Delete")):null}],this.state={dataSource:[],count:0,adding:!1},this.props.dispatch(M.getPrimaryCategoryRequest())}componentDidUpdate(e){if(e.status!==this.props.status&&(this.props.status===S.GET_PRIMARY_CATEGORY_SUCCESS||this.props.status===S.CREATE_PRIMARY_CATEGORY_SUCCESS||this.props.status===S.UPDATE_PRIMARY_CATEGORY_SUCCESS||this.props.status===S.DELETE_PRIMARY_CATEGORY_SUCCESS)){let e=[];for(let t=0;t<this.props.primary_category.length;t++)e.push(this.props.primary_category[t]),e[t].key=t;this.setState({dataSource:e,count:this.props.primary_category.length})}}render(){const{dataSource:e}=this.state,t={body:{row:dt,cell:ht}},a=this.columns.map(e=>e.editable?ot({},e,{onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:this.handleSave})}):e);return l.a.createElement("div",null,l.a.createElement(s.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),l.a.createElement(lt.a,{components:t,rowClassName:()=>"editable-row",bordered:!0,dataSource:e,columns:a,pagination:!1}))}}const mt=Object(p.c)(e=>{const{status:t,primary_category:a}=e.categoryReducer;return{status:t,primary_category:a}})(pt);class _t extends l.a.Component{constructor(e){super(e),this.state={dataSource:[],count:0}}render(){return l.a.createElement("div",{className:"home-wrapper"},l.a.createElement(mt,{dataSource:this.state.dataSource,count:this.state.count}))}}var St=Object(u.f)(_t),gt=(a(570),a(328)),yt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(e[r]=a[r])}return e};function Rt(e,t){var a={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(a[r]=e[r]);return a}const{Option:Ct}=$e.a,Tt=l.a.createContext(),At=fe.a.create()(e=>{let{form:t,index:a}=e,r=Rt(e,["form","index"]);return l.a.createElement(Tt.Provider,{value:t},l.a.createElement("tr",r))});class It extends l.a.Component{constructor(...e){var t;return t=super(...e),this.state={editing:!1},this.toggleEdit=()=>{const e=!this.state.editing;this.setState({editing:e},()=>{e&&this.input.focus()})},this.save=e=>{const{record:t,handleSave:a}=this.props;this.form.validateFields((r,s)=>{r&&r[e.currentTarget.id]||(this.toggleEdit(),a(yt({},t,s)))})},this.renderCell=e=>{this.form=e;const{children:t,dataIndex:a,record:r,title:s}=this.props,{editing:n}=this.state;return n?l.a.createElement(fe.a.Item,{style:{margin:0}},e.getFieldDecorator(a,{rules:[{required:!0,message:`${s} is required.`}],initialValue:r[a]})(l.a.createElement(Ue.a,{ref:e=>this.input=e,onPressEnter:this.save,onBlur:this.save}))):l.a.createElement("div",{className:"editable-cell-value-wrap",style:{paddingRight:24},onClick:this.toggleEdit},t)},t}render(){const e=this.props,{editable:t,dataIndex:a,title:r,record:s,index:n,handleSave:i,children:c}=e,o=Rt(e,["editable","dataIndex","title","record","index","handleSave","children"]);return l.a.createElement("td",o,t?l.a.createElement(Tt.Consumer,null,this.renderCell):c)}}class bt extends l.a.Component{constructor(e){super(e),this.changePrimaryCategory=e=>{this.setState({pc_id:e})},this.handleDelete=e=>{const t=[...this.state.dataSource];this.setState({dataSource:t.filter(t=>t.subcat_id!==e)}),this.props.dispatch(M.deleteSubcategoryRequest(e))},this.handleAdd=()=>{const{count:e,dataSource:t}=this.state,a={key:e,subcat_id:"",subcat_name:"",pc_id:""};this.setState({dataSource:[...t,a],count:e+1,adding:!0})},this.handleSave=e=>{const t=[...this.state.dataSource],a=t.findIndex(t=>e.key===t.key),r=t[a];t.splice(a,1,yt({},r,e)),this.setState({dataSource:t})},this.handleSubmit=e=>{e.pc_id=this.state.pc_id,this.state.adding?this.props.dispatch(M.createSubcategoryRequest(e)):this.props.dispatch(M.updateSubcategoryRequest(e))},this.columns=[{title:"Category ID",dataIndex:"subcat_id",width:"20%",editable:!1},{title:"Category Name",dataIndex:"subcat_name",editable:!0},{title:"Primary Category",dataIndex:"pc_id",render:e=>l.a.createElement($e.a,{defaultValue:e,style:{width:200},onChange:this.changePrimaryCategory},this.props.primary_category.map((e,t)=>l.a.createElement(Ct,{key:t,value:e.cat_id},e.cat_name)))},{title:"Action",dataIndex:"action",width:"20%",render:(e,t)=>this.state.dataSource.length>=1?l.a.createElement("div",null,l.a.createElement(ct.a,{title:"Are you sure you want to delete?",onConfirm:()=>this.handleDelete(t.subcat_id)},l.a.createElement("a",null,"Delete")),l.a.createElement(gt.a,{type:"vertical"}),l.a.createElement("a",{onClick:()=>this.handleSubmit(t)},"Save")):null}],this.state={dataSource:[],count:0,adding:!1,pc_id:0},this.props.dispatch(M.getPrimaryCategoryRequest()),this.props.dispatch(M.getSubcategoryRequest())}componentDidUpdate(e){if(e.status!==this.props.status&&(this.props.status===S.GET_SUBCATEGORY_SUCCESS||this.props.status===S.CREATE_SUBCATEGORY_SUCCESS||this.props.status===S.UPDATE_SUBCATEGORY_SUCCESS||this.props.status===S.DELETE_SUBCATEGORY_SUCCESS)){let e=[];for(let t=0;t<this.props.subcategory.length;t++)e.push(this.props.subcategory[t]),e[t].key=t;this.setState({dataSource:e,count:this.props.subcategory.length,adding:!1})}}render(){const{dataSource:e}=this.state,t={body:{row:At,cell:It}},a=this.columns.map(e=>e.editable?yt({},e,{onCell:t=>({record:t,editable:e.editable,dataIndex:e.dataIndex,title:e.title,handleSave:this.handleSave})}):e);return l.a.createElement("div",null,l.a.createElement(s.a,{onClick:this.handleAdd,type:"primary",style:{marginBottom:16}},"Add a row"),l.a.createElement(lt.a,{components:t,rowClassName:()=>"editable-row",bordered:!0,dataSource:e,columns:a,pagination:!1}))}}const ft=Object(p.c)(e=>{const{status:t,primary_category:a,subcategory:r}=e.categoryReducer;return{status:t,primary_category:a,subcategory:r}})(bt);class Ut extends l.a.Component{constructor(e){super(e),this.state={dataSource:[],count:0}}render(){return l.a.createElement("div",{className:"home-wrapper"},l.a.createElement(ft,{dataSource:this.state.dataSource,count:this.state.count}))}}var vt=Object(u.f)(Ut);const{Header:Ot,Content:jt,Sider:Gt}=n.a,wt=Object(E.a)(),Yt=Object(m.a)(),Pt=Object(h.e)((e=>Object(h.c)({router:Object(d.b)(e),serviceReducer:ye,auth:Ce,categoryReducer:Ae}))(wt),Object(h.a)(Yt));Yt.run((function*(){yield Object(_.a)([C(),I(),U(),j(),N(),x(),H(),$(),Z(),ee(),re(),ie(),oe(),de()])}));Pt.subscribe(()=>console.log(Pt.getState()));class Ft extends l.a.Component{constructor(e){super(e),this.signOut=()=>{const{dispatch:e}=this.props;e(Y.signOutRequest())},this.backHome=()=>{window.location.href="http://localhost:8081/home"}}getCookie(){for(var e=document.cookie.split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf("token="))return a.substring("token=".length,a.length)}return null}showButton(){if(this.getCookie()&&"null"!=this.getCookie())return l.a.createElement("div",{style:{display:"inline-block",float:"right"}},l.a.createElement(s.a,{style:{marginRight:"50px"},className:"menu-option",onClick:this.backHome},"Home"),l.a.createElement(s.a,{style:{},className:"menu-option",onClick:this.signOut},"Logout"))}render(){return l.a.createElement(n.a,{style:{minHeight:"100vh"}},l.a.createElement(Ot,{align:"middle"},l.a.createElement("div",{style:{color:"white"}},l.a.createElement("span",{style:{float:"left",fontSize:"25px"}},"Health & Wellness Map Admin"),this.showButton())),l.a.createElement(jt,null,l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/",component:Ge})),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/home",component:He})),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/newService",component:et})),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/category",component:St})),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/subcategory",component:vt})),l.a.createElement(u.c,null,l.a.createElement(u.a,{exact:!0,path:"/editService/:service_id",component:it}))))}}const Nt=Object(u.f)(Object(p.c)(e=>({}))(Ft));t.default=Nt;o.a.render(l.a.createElement(r.b,{locale:be.a},l.a.createElement(p.a,{store:Pt},l.a.createElement(d.a,{history:wt},l.a.createElement(Nt,null)))),document.getElementById("root"))}});